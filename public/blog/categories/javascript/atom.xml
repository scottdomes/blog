<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Javascript | Scott Domes | Web Developer]]></title>
  <link href="http://scottdomes.com/blog/categories/javascript/atom.xml" rel="self"/>
  <link href="http://scottdomes.com/"/>
  <updated>2017-08-11T17:43:33-07:00</updated>
  <id>http://scottdomes.com/</id>
  <author>
    <name><![CDATA[Scott Domes]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Our Best Practices for Writing React Components]]></title>
    <link href="http://scottdomes.com/blog/our-best-practices-for-writing-react-components/"/>
    <updated>2017-08-11T16:51:15-07:00</updated>
    <id>http://scottdomes.com/blog/our-best-practices-for-writing-react-components</id>
    <content type="html"><![CDATA[<p>When I first started writing React, I remember seeing many different
approaches to writing components, varying greatly from tutorial to tutorial.
Though the framework has matured considerably since then, there doesn’t seem to
yet be a firm ‘right’ way of doing things.</p>

<p>Over the past year at <a href="https://musefind.com/">MuseFind</a>, our team has written a
lot of React components. We’ve gradually refined our approach until we’re happy
with it.</p>

<p>This guide represents our suggested best practices. We hope it will be useful,
whether you’re a beginner or experienced.</p>

<p><img src="https://cdn-images-1.medium.com/max/800/1*GEniDHmmO0nkVuKQ8fhLYw.png" alt="" /></p>

<!--more-->


<p>Before we get started, a couple of notes:</p>

<ul>
<li>We use ES6 and ES7 syntax.</li>
<li>If you’re not sure of the distinction between presentational and container
components, we recommend you <a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.kuvqndiqq">read this
first</a>.</li>
<li>Please let us know in the comments if you have any suggestions, questions, or
feedback.</li>
</ul>


<h3>Class Based Components</h3>

<p>Class based components are stateful and/or contain methods. We try to use them
as sparingly as possible, but they have their place.</p>

<p>Let’s incrementally build our component, line by line.</p>

<h4>Importing CSS</h4>

<pre><code class="javascript">    import React, { Component } from 'react'
    import { observer } from 'mobx-react'

    import ExpandableForm from './ExpandableForm'
    import './styles/ProfileContainer.css'
</code></pre>

<p>I like <a href="https://medium.freecodecamp.com/a-5-minute-intro-to-styled-components-41f40eb7cd55">CSS in
JavaScript</a>,
I do — in theory. But it’s still a new idea, and a mature solution hasn’t
emerged. Until then, we import a CSS file to each component.</p>

<p>We also separate our dependency imports from local imports by a newline.</p>

<h4>Initializing State</h4>

<pre><code class="javascript">    import 
    , { Component } from 'react'
    import { observer } from 'mobx-react'

    import ExpandableForm from './ExpandableForm'
    import './styles/ProfileContainer.css'
</code></pre>

<p>You can also use the older approach of initializing state in the constructor.
More on that
<a href="http://stackoverflow.com/questions/35662932/react-constructor-es6-vs-es7">here</a>.
We prefer the cleaner way.</p>

<p>We also make sure to export our class as the default.</p>

<h4>propTypes and defaultProps</h4>

<pre><code class="javascript">    import React, { Component } from 'react'
    import { observer } from 'mobx-react'

    import ExpandableForm from './ExpandableForm'
    import './styles/ProfileContainer.css'

    export default class ProfileContainer extends Component {
      state = { expanded: false }
</code></pre>

<p>propTypes and defaultProps are static properties, declared as high as possible
within the component code.They should be immediately visible to other devs
reading the file, since they serve as documentation.</p>

<p>If using React 15.3.0 or higher, use the
<a href="https://github.com/reactjs/prop-types">prop-types</a> package instead of
React.PropTypes — nicely destructured, of course.</p>

<p>All your components should have propTypes.</p>

<h4>Methods</h4>

<pre><code class="javascript">    import React, { Component } from 'react'
    import { observer } from 'mobx-react'
    import { string, object } from 'prop-types'

    import ExpandableForm from './ExpandableForm'
    import './styles/ProfileContainer.css'

    export default class ProfileContainer extends Component {
      state = { expanded: false }

      static propTypes = {
        model: object.isRequired,
        title: string
      }

      static defaultProps = {
        model: {
          id: 0
        },
      }
</code></pre>

<p>With class components, when you pass methods to subcomponents, you have to
ensure that they have the right <em>this** </em>when they’re called.This is usually
achieved by passing <em>this.handleSubmit.bind(this)</em> to the subcomponent.</p>

<p>We think this approach is cleaner and easier, maintaining the correct context
automatically via the ES6 arrowfunction.</p>

<h4><strong>Passing setState a Function</strong></h4>

<p>In the above example, we do this:
<code>javascript
this.setState({ expanded: !this.state.expanded })
</code>
Here’s the dirty secret about setState — it’s actually asynchronous. React
batches state changes for performance reasons, so the state may not change
immediately after setState is called.</p>

<p>That means you should not rely on the current state when calling setState —
since you can’t be sure what that state will be!</p>

<p>Here’s the solution — pass a function to setState, with the previous state as an
argument.</p>

<pre><code class="javascript">this.setState(prevState =&gt; ({ expanded: !prevState.expanded }))
</code></pre>

<p>(Thanks to <a href="https://medium.com/@indiesquidge">Austin Wood</a> for his help with
this section).</p>

<h4>Destructuring Props</h4>

<pre><code class="javascript">    import React, { Component } from 'react'
    import { observer } from 'mobx-react'
    import { string, object } from 'prop-types'

    import ExpandableForm from './ExpandableForm'
    import './styles/ProfileContainer.css'

    export default class ProfileContainer extends Component {
      state = { expanded: false }
     static propTypes = {
        model: object.isRequired,
        title: string
      }

      static defaultProps = {
        model: {
          id: 0
        },
        title: 'Your Name'
      }

    handleSubmit = (e) =&gt; {
        e.preventDefault()
        this.props.model.save()
      }

      handleNameChange = (e) =&gt; {
        this.props.model.changeName(e.target.value)
      }

      handleExpand = (e) =&gt; {
        e.preventDefault()
        this.setState(prevState =&gt; ({ expanded: !prevState.expanded }))
      }

    }
</code></pre>

<p>Components with many props should have each prop on a newline, like above.</p>

<h4>Decorators</h4>

<pre><code>export default class ProfileContainer extends Component {
</code></pre>

<p>If you’re using something like <a href="https://github.com/mobxjs/mobx">mobx</a>, you can
decorate your class components like so — which is the same as passing the
component into a function.</p>

<p><a href="http://javascript.info/tutorial/decorators">Decorators</a> are flexible and
readable way of modifying component functionality.We use them extensively, with
mobx and our own <a href="https://github.com/musefind/mobx-models">mobx-models</a> library.</p>

<p>If you don’t want to use decorators, do the following:</p>

<pre><code class="javascript">    class ProfileContainer extends Component {
      // Component code
    }

    export default observer(ProfileContainer)
</code></pre>

<h4>Closures</h4>

<p>Avoid passing new closures to subcomponents, like so:</p>

<pre><code class="html">              &lt;input
                type="text"
                value={model.name}
                // onChange={(e) =&gt; { model.name = e.target.value }}
                // 

                placeholder="Your Name"/&gt;
</code></pre>

<p>Here’s why: every time the parent component renders, a new function is created
and passed tothe input.</p>

<p>If the input were a React component, this would automatically trigger it to
re-render, regardless of whether its other props have actually changed.</p>

<p>Reconciliation is the most expensivepart of React. Don’t make it harder than it
needs to be! Plus, passing aclass method is easier to read, debug, and change.</p>

<p>Here’s our full component:</p>

<p><div><script src='https://gist.github.com/70e436951dfeeb82dfdd4aa6d2541dce.js'></script>
<noscript><pre><code>import React, { Component } from &#39;react&#39;
import { observer } from &#39;mobx-react&#39;
import { string, object } from &#39;prop-types&#39;
// Separate local imports from dependencies
import ExpandableForm from &#39;./ExpandableForm&#39;
import &#39;./styles/ProfileContainer.css&#39;

// Use decorators if needed
@observer
export default class ProfileContainer extends Component {
  state = { expanded: false }
  // Initialize state here (ES7) or in a constructor method (ES6)
 
  // Declare propTypes as static properties as early as possible
  static propTypes = {
    model: object.isRequired,
    title: string
  }

  // Default props below propTypes
  static defaultProps = {
    model: {
      id: 0
    },
    title: &#39;Your Name&#39;
  }

  // Use fat arrow functions for methods to preserve context (this will thus be the component instance)
  handleSubmit = (e) =&gt; {
    e.preventDefault()
    this.props.model.save()
  }
  
  handleNameChange = (e) =&gt; {
    this.props.model.name = e.target.value
  }
  
  handleExpand = (e) =&gt; {
    e.preventDefault()
    this.setState(prevState =&gt; ({ expanded: !prevState.expanded }))
  }
  
  render() {
    // Destructure props for readability
    const {
      model,
      title
    } = this.props
    return ( 
      &lt;ExpandableForm 
        onSubmit={this.handleSubmit} 
        expanded={this.state.expanded} 
        onExpand={this.handleExpand}&gt;
        // Newline props if there are more than two
        &lt;div&gt;
          &lt;h1&gt;{title}&lt;/h1&gt;
          &lt;input
            type=&quot;text&quot;
            value={model.name}
            // onChange={(e) =&gt; { model.name = e.target.value }}
            // Avoid creating new closures in the render method- use methods like below
            onChange={this.handleNameChange}
            placeholder=&quot;Your Name&quot;/&gt;
        &lt;/div&gt;
      &lt;/ExpandableForm&gt;
    )
  }
}</code></pre></noscript></div>
</p>

<h3>Functional Components</h3>

<p>These components have no state and no methods.They’re pure, and easy to reason
about. Use them as often as possible.</p>

<h4>propTypes</h4>

<pre><code class="javascript">    import React from 'react'
    import { observer } from 'mobx-react'
    import { func, bool } from 'prop-types'

    import './styles/Form.css'

    ExpandableForm.propTypes = {
      onSubmit: func.isRequired,
      expanded: bool
    }

    // Component declaration
</code></pre>

<p>Here, we assign the propTypes before the component declaration, so they are
immediately visible. We’re able to do this because of JavaScript function
hoisting.</p>

<h4>Destructuring Props and defaultProps</h4>

<pre><code class="javascript">    import React from 'react'
    import { observer } from 'mobx-react'
    import { func, bool } from 'prop-types'

    import './styles/Form.css'

    ExpandableForm.propTypes = {
      onSubmit: func.isRequired,
      expanded: bool,
      onExpand: func.isRequired
    }
</code></pre>

<p>Our component is a function, which takes its props as its argument. We can
expand them like so:</p>

<pre><code class="javascript">    import React from 'react'
    import { observer } from 'mobx-react'
    import { func, bool } from 'prop-types'

    import './styles/Form.css'

    ExpandableForm.propTypes = {
      onSubmit: func.isRequired,
      expanded: bool,
      onExpand: func.isRequired
    }

      const formStyle = expanded ? {height: 'auto'} : {height: 0}
      return (
        &lt;form style={formStyle} onSubmit={onSubmit}&gt;
          {children}
          &lt;button onClick={onExpand}&gt;Expand&lt;/button&gt;
        &lt;/form&gt;
      )
    }
</code></pre>

<p>Note we can also use default arguments to act as defaultProps in a highly
readable manner. If expanded is undefined, we set it to false. (A bit of a
forced example, since it’s a boolean, but very useful for avoiding ‘Cannot read
<property> of undefined’ errors with objects).</p>

<p>Avoid the following ES6 syntax:</p>

<pre><code class="javascript">const ExpandableForm = ({ onExpand, expanded, children }) =&gt; {
</code></pre>

<p>Looks very modern, but the function here is actually unnamed.</p>

<p>This lack of name will not be a problem if your Babel is set up correctly — but
if it’s not, any errors will show up as occurring in &lt;<anonymous>> which is
terrible for debugging.</p>

<p>Unnamed functions can also cause problems with Jest, a React testing library.
Due to the potential for difficult-to-understand bugs (and the lack of real
benefit) we recommend using <em>function </em>instead of<em> const.</em></p>

<h4>Wrapping</h4>

<p>Since you can’t use decorators with functional components, you simply pass it
the function in as an argument:</p>

<pre><code class="javascript">    import React from 'react'
    import { observer } from 'mobx-react'
    import { func, bool } from 'prop-types'

    import './styles/Form.css'

    ExpandableForm.propTypes = {
      onSubmit: func.isRequired,
      expanded: bool,
      onExpand: func.isRequired
    }

    function ExpandableForm({ onExpand, expanded = false, children, onSubmit }) {
      const formStyle = expanded ? {height: 'auto'} : {height: 0}
      return (
        &lt;form style={formStyle} onSubmit={onSubmit}&gt;
          {children}
          &lt;button onClick={onExpand}&gt;Expand&lt;/button&gt;
        &lt;/form&gt;
      )
    }
</code></pre>

<p>Here’s our full component:</p>

<p><div><script src='https://gist.github.com/19d4ade69b1a3978730b104558fb5308.js'></script>
<noscript><pre><code>import React from &#39;react&#39;
import { observer } from &#39;mobx-react&#39;
import { func, bool } from &#39;prop-types&#39;
// Separate local imports from dependencies
import &#39;./styles/Form.css&#39;

// Declare propTypes here, before the component (taking advantage of JS function hoisting)
// You want these to be as visible as possible
ExpandableForm.propTypes = {
  onSubmit: func.isRequired,
  expanded: bool,
  onExpand: func.isRequired
}

// Destructure props like so, and use default arguments as a way of setting defaultProps
function ExpandableForm({ onExpand, expanded = false, children, onSubmit }) {
  const formStyle = expanded ? { height: &#39;auto&#39; } : { height: 0 }
  return (
    &lt;form style={formStyle} onSubmit={onSubmit}&gt;
      {children}
      &lt;button onClick={onExpand}&gt;Expand&lt;/button&gt;
    &lt;/form&gt;
  )
}

// Wrap the component instead of decorating it
export default observer(ExpandableForm)</code></pre></noscript></div>
</p>

<h3>Conditionals in JSX</h3>

<p>Chances are you’re going to do a lot of conditional rendering. Here’s what you
want to avoid:</p>

<p><img src="https://cdn-images-1.medium.com/max/800/1*4zdSbYcOXTVchgSJqtk0Ig.png" alt="" />
^ Actual code I wrote in my early days at MuseFind… forgive me</p>

<p>No,nested ternaries are not a good idea.</p>

<p>There are some libraries that solve this problem (<a href="https://github.com/AlexGilleran/jsx-control-statements">JSX-Control
Statements</a>), but rather
than introduce another dependency, we settled on this approach for complex
conditions:</p>

<p>A refactored version of the above:
<img src="https://cdn-images-1.medium.com/max/800/1*IVFlMaSGKqHISJueTC26sw.png" alt="" /></p>

<p>Use curly braces wrapping an
<a href="http://stackoverflow.com/questions/8228281/what-is-the-function-construct-in-javascript">IIFE</a>,
and then put your if statements inside, returning whatever you want to render.
Note that IIFE’s like this can cause a performance hit, but in most cases it
will not be significant enough to warrant losing the readability factor.</p>

<p><strong>Update: </strong>Many commenters have recommended extracting this logic to a
subcomponent that conditionally returns different buttons based on props.They’re
right — splitting up your components as much as possible is always a good call.
But keep the IIFE approach in mind as a fallback for quick conditionals.</p>

<p>Also, when you only want to render an element on one condition, instead of doing
this…</p>

<pre><code class="javascript">    {
      isTrue
       ? &lt;p&gt;True!&lt;/p&gt;
       : &lt;none/&gt;
    }
</code></pre>

<p>… use short-circuit evaluation:</p>

<pre><code class="javascript">{
  isTrue &amp;&amp; 
    &lt;p&gt;True!&lt;/p&gt;
}
</code></pre>

<h3>Conclusion</h3>

<p>Was this article useful? Share it with your friends and fellow devs.</p>

<p>Have any feedback? Leave a comment below.</p>

<p>Thanks for reading!</p>

<p>(Want to stay up to date/learn best practices for the future of web development?
Say hello to Progressive Web App Newsletter—subscribe below.)</p>

<p><a href="http://pwa-newsletter.com/">http://pwa-newsletter.com/</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Build a Node.js API in Under 30 Minutes]]></title>
    <link href="http://scottdomes.com/blog/build-a-node-dot-js-api-in-under-30-minutes/"/>
    <updated>2017-08-11T16:50:51-07:00</updated>
    <id>http://scottdomes.com/blog/build-a-node-dot-js-api-in-under-30-minutes</id>
    <content type="html"><![CDATA[<p>Node.js can be intimidating to beginners. But its flexible structure and lack of
strict guidelines makes it seem more complicated than it is.</p>

<p>This tutorial is a quick and simple guide to Node.js, the Express framework, and
MongoDB, focusing on the fundamental REST routes and basic database interaction.
You’ll build a simple API boilerplate that can then be used as the foundation
for any app.</p>

<p><img src="https://cdn-images-1.medium.com/max/800/1*s5LVdcugM62xzSvGUpTLWA.png" alt="" /></p>

<!--more-->


<p><strong>Who This Tutorial Is For</strong>: You should have a basic understanding of REST APIs
and CRUD operations, plus basic JavaScript knowledge. I use ES6 (mainly
fat-arrow functions), but nothing too complex.</p>

<p>For this tutorial, you’ll create the skeleton of a back-end for a note-taking
application — think <a href="http://keep.google.com/">Google Keep</a>. You want to be able
to do all four CRUD actions on your notes: create, read, update, and delete.</p>

<h3>Setting Up</h3>

<p>If you don’t have Node installed, <a href="https://howtonode.org/how-to-install-nodejs">see
here</a>.</p>

<p>In a new directory, run npm init, and follow along with the prompts, giving your
app the name of ‘notable’ (or whatever else you might like).
<code>
    npm init
</code>
Once that’s done, you should have a <em>package.json </em>ready to go in your
directory. This means you can start installing the dependencies you need for
your project.</p>

<p>You’re going to use Express as your framework, MongoDB as the database, and a
package called body-parser to help deal with JSON requests.
<code>
npm install --save express mongodb body-parser
</code>
I also highly recommend installing Nodemon as a dev dependency. It’s a simple
little package that automatically restarts your server when files change.</p>

<p>If you run:
<code>
npm install --save-dev nodemon
</code></p>

<p>You can then add the following script to <em>package.json</em>:
<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
<span class='line-number'>235</span>
<span class='line-number'>236</span>
<span class='line-number'>237</span>
<span class='line-number'>238</span>
<span class='line-number'>239</span>
<span class='line-number'>240</span>
<span class='line-number'>241</span>
<span class='line-number'>242</span>
<span class='line-number'>243</span>
<span class='line-number'>244</span>
<span class='line-number'>245</span>
<span class='line-number'>246</span>
<span class='line-number'>247</span>
<span class='line-number'>248</span>
<span class='line-number'>249</span>
<span class='line-number'>250</span>
<span class='line-number'>251</span>
<span class='line-number'>252</span>
<span class='line-number'>253</span>
<span class='line-number'>254</span>
<span class='line-number'>255</span>
<span class='line-number'>256</span>
<span class='line-number'>257</span>
<span class='line-number'>258</span>
<span class='line-number'>259</span>
<span class='line-number'>260</span>
<span class='line-number'>261</span>
<span class='line-number'>262</span>
<span class='line-number'>263</span>
<span class='line-number'>264</span>
<span class='line-number'>265</span>
<span class='line-number'>266</span>
<span class='line-number'>267</span>
<span class='line-number'>268</span>
<span class='line-number'>269</span>
<span class='line-number'>270</span>
<span class='line-number'>271</span>
<span class='line-number'>272</span>
<span class='line-number'>273</span>
<span class='line-number'>274</span>
<span class='line-number'>275</span>
<span class='line-number'>276</span>
<span class='line-number'>277</span>
<span class='line-number'>278</span>
<span class='line-number'>279</span>
<span class='line-number'>280</span>
<span class='line-number'>281</span>
<span class='line-number'>282</span>
<span class='line-number'>283</span>
<span class='line-number'>284</span>
<span class='line-number'>285</span>
<span class='line-number'>286</span>
<span class='line-number'>287</span>
<span class='line-number'>288</span>
<span class='line-number'>289</span>
<span class='line-number'>290</span>
<span class='line-number'>291</span>
<span class='line-number'>292</span>
<span class='line-number'>293</span>
<span class='line-number'>294</span>
<span class='line-number'>295</span>
<span class='line-number'>296</span>
<span class='line-number'>297</span>
<span class='line-number'>298</span>
<span class='line-number'>299</span>
<span class='line-number'>300</span>
<span class='line-number'>301</span>
<span class='line-number'>302</span>
<span class='line-number'>303</span>
<span class='line-number'>304</span>
<span class='line-number'>305</span>
<span class='line-number'>306</span>
<span class='line-number'>307</span>
<span class='line-number'>308</span>
<span class='line-number'>309</span>
<span class='line-number'>310</span>
<span class='line-number'>311</span>
<span class='line-number'>312</span>
<span class='line-number'>313</span>
<span class='line-number'>314</span>
<span class='line-number'>315</span>
<span class='line-number'>316</span>
<span class='line-number'>317</span>
<span class='line-number'>318</span>
<span class='line-number'>319</span>
<span class='line-number'>320</span>
<span class='line-number'>321</span>
<span class='line-number'>322</span>
<span class='line-number'>323</span>
<span class='line-number'>324</span>
<span class='line-number'>325</span>
<span class='line-number'>326</span>
<span class='line-number'>327</span>
<span class='line-number'>328</span>
<span class='line-number'>329</span>
<span class='line-number'>330</span>
<span class='line-number'>331</span>
<span class='line-number'>332</span>
<span class='line-number'>333</span>
<span class='line-number'>334</span>
<span class='line-number'>335</span>
<span class='line-number'>336</span>
<span class='line-number'>337</span>
<span class='line-number'>338</span>
<span class='line-number'>339</span>
<span class='line-number'>340</span>
<span class='line-number'>341</span>
<span class='line-number'>342</span>
<span class='line-number'>343</span>
<span class='line-number'>344</span>
<span class='line-number'>345</span>
<span class='line-number'>346</span>
<span class='line-number'>347</span>
<span class='line-number'>348</span>
<span class='line-number'>349</span>
<span class='line-number'>350</span>
<span class='line-number'>351</span>
<span class='line-number'>352</span>
<span class='line-number'>353</span>
<span class='line-number'>354</span>
<span class='line-number'>355</span>
<span class='line-number'>356</span>
<span class='line-number'>357</span>
<span class='line-number'>358</span>
<span class='line-number'>359</span>
<span class='line-number'>360</span>
<span class='line-number'>361</span>
<span class='line-number'>362</span>
<span class='line-number'>363</span>
<span class='line-number'>364</span>
<span class='line-number'>365</span>
<span class='line-number'>366</span>
<span class='line-number'>367</span>
<span class='line-number'>368</span>
<span class='line-number'>369</span>
<span class='line-number'>370</span>
<span class='line-number'>371</span>
<span class='line-number'>372</span>
<span class='line-number'>373</span>
<span class='line-number'>374</span>
<span class='line-number'>375</span>
<span class='line-number'>376</span>
<span class='line-number'>377</span>
<span class='line-number'>378</span>
<span class='line-number'>379</span>
<span class='line-number'>380</span>
<span class='line-number'>381</span>
<span class='line-number'>382</span>
<span class='line-number'>383</span>
<span class='line-number'>384</span>
<span class='line-number'>385</span>
<span class='line-number'>386</span>
<span class='line-number'>387</span>
<span class='line-number'>388</span>
<span class='line-number'>389</span>
<span class='line-number'>390</span>
<span class='line-number'>391</span>
<span class='line-number'>392</span>
<span class='line-number'>393</span>
<span class='line-number'>394</span>
<span class='line-number'>395</span>
<span class='line-number'>396</span>
<span class='line-number'>397</span>
<span class='line-number'>398</span>
<span class='line-number'>399</span>
<span class='line-number'>400</span>
<span class='line-number'>401</span>
<span class='line-number'>402</span>
<span class='line-number'>403</span>
<span class='line-number'>404</span>
<span class='line-number'>405</span>
<span class='line-number'>406</span>
<span class='line-number'>407</span>
<span class='line-number'>408</span>
<span class='line-number'>409</span>
<span class='line-number'>410</span>
<span class='line-number'>411</span>
<span class='line-number'>412</span>
<span class='line-number'>413</span>
<span class='line-number'>414</span>
<span class='line-number'>415</span>
<span class='line-number'>416</span>
<span class='line-number'>417</span>
<span class='line-number'>418</span>
<span class='line-number'>419</span>
<span class='line-number'>420</span>
<span class='line-number'>421</span>
<span class='line-number'>422</span>
<span class='line-number'>423</span>
<span class='line-number'>424</span>
<span class='line-number'>425</span>
<span class='line-number'>426</span>
<span class='line-number'>427</span>
<span class='line-number'>428</span>
<span class='line-number'>429</span>
<span class='line-number'>430</span>
<span class='line-number'>431</span>
<span class='line-number'>432</span>
<span class='line-number'>433</span>
<span class='line-number'>434</span>
<span class='line-number'>435</span>
<span class='line-number'>436</span>
<span class='line-number'>437</span>
<span class='line-number'>438</span>
<span class='line-number'>439</span>
<span class='line-number'>440</span>
<span class='line-number'>441</span>
<span class='line-number'>442</span>
<span class='line-number'>443</span>
<span class='line-number'>444</span>
<span class='line-number'>445</span>
<span class='line-number'>446</span>
<span class='line-number'>447</span>
<span class='line-number'>448</span>
<span class='line-number'>449</span>
<span class='line-number'>450</span>
<span class='line-number'>451</span>
<span class='line-number'>452</span>
<span class='line-number'>453</span>
<span class='line-number'>454</span>
<span class='line-number'>455</span>
<span class='line-number'>456</span>
<span class='line-number'>457</span>
<span class='line-number'>458</span>
<span class='line-number'>459</span>
<span class='line-number'>460</span>
<span class='line-number'>461</span>
<span class='line-number'>462</span>
<span class='line-number'>463</span>
<span class='line-number'>464</span>
<span class='line-number'>465</span>
<span class='line-number'>466</span>
<span class='line-number'>467</span>
<span class='line-number'>468</span>
<span class='line-number'>469</span>
<span class='line-number'>470</span>
<span class='line-number'>471</span>
<span class='line-number'>472</span>
<span class='line-number'>473</span>
<span class='line-number'>474</span>
<span class='line-number'>475</span>
<span class='line-number'>476</span>
<span class='line-number'>477</span>
<span class='line-number'>478</span>
<span class='line-number'>479</span>
<span class='line-number'>480</span>
<span class='line-number'>481</span>
<span class='line-number'>482</span>
<span class='line-number'>483</span>
<span class='line-number'>484</span>
<span class='line-number'>485</span>
<span class='line-number'>486</span>
<span class='line-number'>487</span>
<span class='line-number'>488</span>
<span class='line-number'>489</span>
<span class='line-number'>490</span>
<span class='line-number'>491</span>
<span class='line-number'>492</span>
<span class='line-number'>493</span>
<span class='line-number'>494</span>
<span class='line-number'>495</span>
<span class='line-number'>496</span>
<span class='line-number'>497</span>
<span class='line-number'>498</span>
<span class='line-number'>499</span>
<span class='line-number'>500</span>
<span class='line-number'>501</span>
<span class='line-number'>502</span>
<span class='line-number'>503</span>
<span class='line-number'>504</span>
<span class='line-number'>505</span>
<span class='line-number'>506</span>
<span class='line-number'>507</span>
<span class='line-number'>508</span>
<span class='line-number'>509</span>
<span class='line-number'>510</span>
<span class='line-number'>511</span>
<span class='line-number'>512</span>
<span class='line-number'>513</span>
<span class='line-number'>514</span>
<span class='line-number'>515</span>
<span class='line-number'>516</span>
<span class='line-number'>517</span>
<span class='line-number'>518</span>
<span class='line-number'>519</span>
<span class='line-number'>520</span>
<span class='line-number'>521</span>
<span class='line-number'>522</span>
<span class='line-number'>523</span>
<span class='line-number'>524</span>
<span class='line-number'>525</span>
<span class='line-number'>526</span>
<span class='line-number'>527</span>
<span class='line-number'>528</span>
<span class='line-number'>529</span>
<span class='line-number'>530</span>
<span class='line-number'>531</span>
<span class='line-number'>532</span>
<span class='line-number'>533</span>
<span class='line-number'>534</span>
<span class='line-number'>535</span>
<span class='line-number'>536</span>
<span class='line-number'>537</span>
<span class='line-number'>538</span>
<span class='line-number'>539</span>
<span class='line-number'>540</span>
<span class='line-number'>541</span>
<span class='line-number'>542</span>
<span class='line-number'>543</span>
<span class='line-number'>544</span>
<span class='line-number'>545</span>
<span class='line-number'>546</span>
<span class='line-number'>547</span>
<span class='line-number'>548</span>
<span class='line-number'>549</span>
<span class='line-number'>550</span>
<span class='line-number'>551</span>
<span class='line-number'>552</span>
<span class='line-number'>553</span>
<span class='line-number'>554</span>
<span class='line-number'>555</span>
<span class='line-number'>556</span>
<span class='line-number'>557</span>
<span class='line-number'>558</span>
<span class='line-number'>559</span>
<span class='line-number'>560</span>
<span class='line-number'>561</span>
<span class='line-number'>562</span>
<span class='line-number'>563</span>
<span class='line-number'>564</span>
<span class='line-number'>565</span>
<span class='line-number'>566</span>
<span class='line-number'>567</span>
<span class='line-number'>568</span>
<span class='line-number'>569</span>
<span class='line-number'>570</span>
<span class='line-number'>571</span>
<span class='line-number'>572</span>
<span class='line-number'>573</span>
<span class='line-number'>574</span>
<span class='line-number'>575</span>
<span class='line-number'>576</span>
<span class='line-number'>577</span>
<span class='line-number'>578</span>
<span class='line-number'>579</span>
<span class='line-number'>580</span>
<span class='line-number'>581</span>
<span class='line-number'>582</span>
<span class='line-number'>583</span>
<span class='line-number'>584</span>
<span class='line-number'>585</span>
<span class='line-number'>586</span>
<span class='line-number'>587</span>
<span class='line-number'>588</span>
<span class='line-number'>589</span>
<span class='line-number'>590</span>
<span class='line-number'>591</span>
<span class='line-number'>592</span>
<span class='line-number'>593</span>
<span class='line-number'>594</span>
<span class='line-number'>595</span>
<span class='line-number'>596</span>
<span class='line-number'>597</span>
<span class='line-number'>598</span>
<span class='line-number'>599</span>
<span class='line-number'>600</span>
<span class='line-number'>601</span>
<span class='line-number'>602</span>
<span class='line-number'>603</span>
<span class='line-number'>604</span>
<span class='line-number'>605</span>
<span class='line-number'>606</span>
<span class='line-number'>607</span>
<span class='line-number'>608</span>
<span class='line-number'>609</span>
<span class='line-number'>610</span>
<span class='line-number'>611</span>
<span class='line-number'>612</span>
<span class='line-number'>613</span>
<span class='line-number'>614</span>
<span class='line-number'>615</span>
<span class='line-number'>616</span>
<span class='line-number'>617</span>
<span class='line-number'>618</span>
<span class='line-number'>619</span>
<span class='line-number'>620</span>
<span class='line-number'>621</span>
<span class='line-number'>622</span>
<span class='line-number'>623</span>
<span class='line-number'>624</span>
<span class='line-number'>625</span>
<span class='line-number'>626</span>
<span class='line-number'>627</span>
<span class='line-number'>628</span>
<span class='line-number'>629</span>
<span class='line-number'>630</span>
<span class='line-number'>631</span>
<span class='line-number'>632</span>
<span class='line-number'>633</span>
<span class='line-number'>634</span>
<span class='line-number'>635</span>
<span class='line-number'>636</span>
<span class='line-number'>637</span>
<span class='line-number'>638</span>
<span class='line-number'>639</span>
<span class='line-number'>640</span>
<span class='line-number'>641</span>
<span class='line-number'>642</span>
<span class='line-number'>643</span>
<span class='line-number'>644</span>
<span class='line-number'>645</span>
<span class='line-number'>646</span>
<span class='line-number'>647</span>
<span class='line-number'>648</span>
<span class='line-number'>649</span>
<span class='line-number'>650</span>
<span class='line-number'>651</span>
<span class='line-number'>652</span>
<span class='line-number'>653</span>
<span class='line-number'>654</span>
<span class='line-number'>655</span>
<span class='line-number'>656</span>
<span class='line-number'>657</span>
<span class='line-number'>658</span>
<span class='line-number'>659</span>
<span class='line-number'>660</span>
<span class='line-number'>661</span>
<span class='line-number'>662</span>
<span class='line-number'>663</span>
<span class='line-number'>664</span>
<span class='line-number'>665</span>
<span class='line-number'>666</span>
<span class='line-number'>667</span>
<span class='line-number'>668</span>
<span class='line-number'>669</span>
<span class='line-number'>670</span>
<span class='line-number'>671</span>
<span class='line-number'>672</span>
<span class='line-number'>673</span>
<span class='line-number'>674</span>
<span class='line-number'>675</span>
<span class='line-number'>676</span>
<span class='line-number'>677</span>
<span class='line-number'>678</span>
<span class='line-number'>679</span>
<span class='line-number'>680</span>
<span class='line-number'>681</span>
<span class='line-number'>682</span>
<span class='line-number'>683</span>
<span class='line-number'>684</span>
<span class='line-number'>685</span>
<span class='line-number'>686</span>
<span class='line-number'>687</span>
<span class='line-number'>688</span>
<span class='line-number'>689</span>
<span class='line-number'>690</span>
<span class='line-number'>691</span>
<span class='line-number'>692</span>
<span class='line-number'>693</span>
<span class='line-number'>694</span>
<span class='line-number'>695</span>
<span class='line-number'>696</span>
<span class='line-number'>697</span>
<span class='line-number'>698</span>
<span class='line-number'>699</span>
<span class='line-number'>700</span>
<span class='line-number'>701</span>
<span class='line-number'>702</span>
<span class='line-number'>703</span>
<span class='line-number'>704</span>
<span class='line-number'>705</span>
<span class='line-number'>706</span>
<span class='line-number'>707</span>
<span class='line-number'>708</span>
<span class='line-number'>709</span>
<span class='line-number'>710</span>
<span class='line-number'>711</span>
<span class='line-number'>712</span>
<span class='line-number'>713</span>
<span class='line-number'>714</span>
<span class='line-number'>715</span>
<span class='line-number'>716</span>
<span class='line-number'>717</span>
<span class='line-number'>718</span>
<span class='line-number'>719</span>
<span class='line-number'>720</span>
<span class='line-number'>721</span>
<span class='line-number'>722</span>
<span class='line-number'>723</span>
<span class='line-number'>724</span>
<span class='line-number'>725</span>
<span class='line-number'>726</span>
<span class='line-number'>727</span>
<span class='line-number'>728</span>
<span class='line-number'>729</span>
<span class='line-number'>730</span>
<span class='line-number'>731</span>
<span class='line-number'>732</span>
<span class='line-number'>733</span>
<span class='line-number'>734</span>
<span class='line-number'>735</span>
<span class='line-number'>736</span>
<span class='line-number'>737</span>
<span class='line-number'>738</span>
<span class='line-number'>739</span>
<span class='line-number'>740</span>
<span class='line-number'>741</span>
<span class='line-number'>742</span>
<span class='line-number'>743</span>
<span class='line-number'>744</span>
<span class='line-number'>745</span>
<span class='line-number'>746</span>
<span class='line-number'>747</span>
<span class='line-number'>748</span>
<span class='line-number'>749</span>
<span class='line-number'>750</span>
<span class='line-number'>751</span>
<span class='line-number'>752</span>
<span class='line-number'>753</span>
<span class='line-number'>754</span>
<span class='line-number'>755</span>
<span class='line-number'>756</span>
<span class='line-number'>757</span>
<span class='line-number'>758</span>
<span class='line-number'>759</span>
<span class='line-number'>760</span>
<span class='line-number'>761</span>
<span class='line-number'>762</span>
<span class='line-number'>763</span>
<span class='line-number'>764</span>
<span class='line-number'>765</span>
<span class='line-number'>766</span>
<span class='line-number'>767</span>
<span class='line-number'>768</span>
<span class='line-number'>769</span>
<span class='line-number'>770</span>
<span class='line-number'>771</span>
<span class='line-number'>772</span>
<span class='line-number'>773</span>
<span class='line-number'>774</span>
<span class='line-number'>775</span>
<span class='line-number'>776</span>
<span class='line-number'>777</span>
<span class='line-number'>778</span>
<span class='line-number'>779</span>
<span class='line-number'>780</span>
<span class='line-number'>781</span>
<span class='line-number'>782</span>
<span class='line-number'>783</span>
<span class='line-number'>784</span>
<span class='line-number'>785</span>
<span class='line-number'>786</span>
<span class='line-number'>787</span>
<span class='line-number'>788</span>
<span class='line-number'>789</span>
<span class='line-number'>790</span>
<span class='line-number'>791</span>
<span class='line-number'>792</span>
<span class='line-number'>793</span>
<span class='line-number'>794</span>
<span class='line-number'>795</span>
<span class='line-number'>796</span>
<span class='line-number'>797</span>
<span class='line-number'>798</span>
<span class='line-number'>799</span>
<span class='line-number'>800</span>
<span class='line-number'>801</span>
<span class='line-number'>802</span>
<span class='line-number'>803</span>
<span class='line-number'>804</span>
<span class='line-number'>805</span>
<span class='line-number'>806</span>
<span class='line-number'>807</span>
<span class='line-number'>808</span>
<span class='line-number'>809</span>
<span class='line-number'>810</span>
<span class='line-number'>811</span>
<span class='line-number'>812</span>
<span class='line-number'>813</span>
<span class='line-number'>814</span>
<span class='line-number'>815</span>
<span class='line-number'>816</span>
<span class='line-number'>817</span>
<span class='line-number'>818</span>
<span class='line-number'>819</span>
<span class='line-number'>820</span>
<span class='line-number'>821</span>
<span class='line-number'>822</span>
<span class='line-number'>823</span>
<span class='line-number'>824</span>
<span class='line-number'>825</span>
<span class='line-number'>826</span>
<span class='line-number'>827</span>
<span class='line-number'>828</span>
<span class='line-number'>829</span>
<span class='line-number'>830</span>
<span class='line-number'>831</span>
<span class='line-number'>832</span>
<span class='line-number'>833</span>
<span class='line-number'>834</span>
<span class='line-number'>835</span>
<span class='line-number'>836</span>
<span class='line-number'>837</span>
<span class='line-number'>838</span>
<span class='line-number'>839</span>
<span class='line-number'>840</span>
<span class='line-number'>841</span>
<span class='line-number'>842</span>
<span class='line-number'>843</span>
<span class='line-number'>844</span>
<span class='line-number'>845</span>
<span class='line-number'>846</span>
<span class='line-number'>847</span>
<span class='line-number'>848</span>
<span class='line-number'>849</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// package.json&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span>  <span class="s2">&quot;scripts&quot;</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'><span class="s2">&quot;dev&quot;</span><span class="o">:</span> <span class="s2">&quot;nodemon server.js&quot;</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Your</span> <span class="nx">complete</span> <span class="o">*</span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="o">*</span> <span class="nx">should</span> <span class="nx">look</span> <span class="nx">like</span> <span class="k">this</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// package.json</span>
</span><span class='line'>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;notable&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;version&quot;</span><span class="o">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;main&quot;</span><span class="o">:</span> <span class="s2">&quot;server.js&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;scripts&quot;</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'><span class="s2">&quot;dev&quot;</span><span class="o">:</span> <span class="s2">&quot;nodemon server.js&quot;</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>  <span class="s2">&quot;author&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;license&quot;</span><span class="o">:</span> <span class="s2">&quot;ISC&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;dependencies&quot;</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'><span class="s2">&quot;body-parser&quot;</span><span class="o">:</span> <span class="s2">&quot;^1.15.2&quot;</span><span class="p">,</span>
</span><span class='line'><span class="s2">&quot;express&quot;</span><span class="o">:</span> <span class="s2">&quot;^4.14.0&quot;</span><span class="p">,</span>
</span><span class='line'><span class="s2">&quot;mongodb&quot;</span><span class="o">:</span> <span class="s2">&quot;^2.2.16&quot;</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>  <span class="s2">&quot;devDependencies&quot;</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'><span class="s2">&quot;nodemon&quot;</span><span class="o">:</span> <span class="s2">&quot;^1.11.0&quot;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Now</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">create</span> <span class="nx">your</span> <span class="o">*</span><span class="nx">server</span><span class="p">.</span><span class="nx">js</span> <span class="o">*</span><span class="nx">file</span><span class="o">*</span> <span class="o">*</span><span class="nx">and</span> <span class="nx">start</span> <span class="nx">building</span> <span class="nx">your</span> <span class="nx">API</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="err">###</span> <span class="nx">Our</span> <span class="nx">Server</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Let</span><span class="err">’</span><span class="nx">s</span> <span class="nx">start</span> <span class="nx">by</span> <span class="nx">requiring</span> <span class="nx">all</span> <span class="nx">your</span> <span class="nx">dependencies</span> <span class="k">in</span> <span class="o">*</span><span class="nx">server</span><span class="p">.</span><span class="nx">js</span><span class="p">.</span><span class="o">*</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// server.js</span>
</span><span class='line'>
</span><span class='line'><span class="kr">const</span> <span class="nx">express</span>        <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;express&#39;</span><span class="p">);</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">MongoClient</span>    <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;mongodb&#39;</span><span class="p">).</span><span class="nx">MongoClient</span><span class="p">;</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">bodyParser</span>     <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;body-parser&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="kr">const</span> <span class="nx">app</span>            <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">You</span><span class="err">’</span><span class="nx">re</span> <span class="nx">going</span> <span class="nx">to</span> <span class="nx">use</span> <span class="nx">the</span> <span class="nx">MongoClient</span> <span class="nx">to</span> <span class="nx">interact</span> <span class="kd">with</span> <span class="nx">your</span> <span class="nx">database</span><span class="p">.</span> <span class="nx">Note</span> <span class="nx">that</span>
</span><span class='line'><span class="nx">you</span> <span class="nx">also</span> <span class="nx">initialize</span> <span class="nx">your</span> <span class="nx">app</span> <span class="nx">as</span> <span class="nx">an</span> <span class="nx">instance</span> <span class="nx">of</span> <span class="nx">Express</span><span class="p">,</span> <span class="nx">your</span> <span class="nx">framework</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">The</span> <span class="nx">last</span> <span class="nx">thing</span> <span class="nx">you</span> <span class="nx">need</span> <span class="nx">to</span> <span class="k">do</span> <span class="nx">to</span> <span class="nx">get</span> <span class="nx">your</span> <span class="nx">server</span> <span class="nx">up</span> <span class="nx">and</span> <span class="nx">running</span> <span class="nx">is</span> <span class="nx">to</span> <span class="nx">tell</span> <span class="nx">your</span>
</span><span class='line'><span class="nx">app</span> <span class="nx">to</span> <span class="nx">start</span> <span class="o">*</span><span class="nx">listening</span> <span class="o">*</span><span class="k">for</span> <span class="nx">HTTP</span> <span class="nx">requests</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">You</span> <span class="nx">can</span> <span class="nx">specify</span> <span class="nx">a</span> <span class="nx">port</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">start</span> <span class="nx">the</span> <span class="nx">listening</span> <span class="nx">like</span> <span class="nx">so</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// server.js</span>
</span><span class='line'>
</span><span class='line'><span class="kr">const</span> <span class="nx">port</span> <span class="o">=</span> <span class="mi">8000</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;We are live on &#39;</span> <span class="o">+</span> <span class="nx">port</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Now</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">run</span> <span class="o">*</span><span class="nx">npm</span> <span class="nx">run</span> <span class="nx">dev</span> <span class="o">*</span><span class="p">(</span><span class="nx">or</span> <span class="o">*</span><span class="nx">node</span> <span class="nx">server</span><span class="p">.</span><span class="nx">js</span><span class="o">*</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">didn</span><span class="err">’</span><span class="nx">t</span> <span class="nx">install</span> <span class="nx">Nodemon</span><span class="p">)</span>
</span><span class='line'><span class="nx">you</span> <span class="nx">should</span> <span class="nx">see</span> <span class="err">‘</span><span class="nx">We</span> <span class="nx">are</span> <span class="nx">live</span> <span class="nx">on</span> <span class="nx">port</span> <span class="mi">8000</span><span class="err">’</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">terminal</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Your</span> <span class="nx">server</span> <span class="nx">is</span> <span class="nx">live</span><span class="p">.</span> <span class="nx">But</span> <span class="nx">it</span> <span class="nx">doesn</span><span class="err">’</span><span class="nx">t</span> <span class="k">do</span> <span class="nx">a</span> <span class="nx">whole</span> <span class="nx">lot</span><span class="p">.</span> <span class="nx">Or</span> <span class="nx">anything</span><span class="p">,</span> <span class="nx">really</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Let</span><span class="err">’</span><span class="nx">s</span> <span class="nx">fix</span> <span class="nx">that</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="err">###</span> <span class="nx">CRUDdy</span> <span class="nx">Routes</span>
</span><span class='line'>
</span><span class='line'><span class="nx">For</span> <span class="k">this</span> <span class="nx">example</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">want</span> <span class="nx">to</span> <span class="nx">build</span> <span class="mi">4</span> <span class="nx">routes</span><span class="p">;</span> <span class="nx">to</span> <span class="nx">CREATE</span> <span class="nx">a</span> <span class="nx">note</span><span class="p">,</span> <span class="nx">to</span> <span class="nx">READ</span> <span class="nx">your</span>
</span><span class='line'><span class="nx">notes</span><span class="p">,</span> <span class="nx">to</span> <span class="nx">UPDATE</span> <span class="nx">a</span> <span class="nx">note</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">to</span> <span class="nx">DELETE</span> <span class="nx">a</span> <span class="nx">note</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">This</span> <span class="nx">will</span> <span class="nx">give</span> <span class="nx">you</span> <span class="nx">a</span> <span class="nx">good</span> <span class="nx">idea</span> <span class="nx">of</span> <span class="nx">how</span> <span class="nx">to</span> <span class="nx">structure</span> <span class="nx">almost</span> <span class="nx">any</span> <span class="nx">basic</span> <span class="nx">route</span> <span class="kd">with</span>
</span><span class='line'><span class="nx">Node</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">To</span> <span class="nx">test</span> <span class="nx">your</span> <span class="nx">API</span><span class="p">,</span> <span class="nx">though</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">need</span> <span class="nx">to</span> <span class="nx">mimic</span> <span class="nx">a</span> <span class="nx">client</span> <span class="nx">side</span> <span class="nx">making</span> <span class="nx">requests</span><span class="p">.</span> <span class="nx">To</span> <span class="k">do</span>
</span><span class='line'><span class="nx">so</span><span class="p">,</span> <span class="nx">you</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">use</span> <span class="nx">a</span> <span class="nx">great</span> <span class="nx">app</span> <span class="nx">called</span> <span class="p">[</span><span class="nx">Postman</span><span class="p">](</span><span class="nx">https</span><span class="o">:</span><span class="c1">//www.getpostman.com/). It</span>
</span><span class='line'><span class="nx">allows</span> <span class="nx">you</span> <span class="nx">to</span> <span class="nx">make</span> <span class="nx">simple</span> <span class="nx">HTTP</span> <span class="nx">requests</span> <span class="kd">with</span> <span class="nx">custom</span> <span class="nx">bodies</span> <span class="nx">and</span> <span class="nx">parameters</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Install</span> <span class="nx">Postman</span><span class="p">,</span> <span class="nx">and</span> <span class="kd">let</span><span class="err">’</span><span class="nx">s</span> <span class="nx">start</span> <span class="nx">setting</span> <span class="nx">up</span> <span class="nx">your</span> <span class="nx">routes</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="err">###</span> <span class="nx">Super</span> <span class="nx">Organized</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Most</span> <span class="nx">Node</span><span class="p">.</span><span class="nx">js</span> <span class="nx">tutorials</span> <span class="p">(</span><span class="nx">and</span> <span class="nx">many</span> <span class="nx">real</span> <span class="nx">apps</span><span class="p">)</span> <span class="nx">put</span> <span class="nx">all</span> <span class="nx">their</span> <span class="nx">routes</span> <span class="k">in</span> <span class="nx">one</span> <span class="nx">big</span>
</span><span class='line'><span class="o">*</span><span class="nx">routes</span><span class="p">.</span><span class="nx">js</span> <span class="o">*</span><span class="nx">file</span><span class="p">.</span> <span class="nx">This</span> <span class="nx">makes</span> <span class="nx">me</span> <span class="nx">a</span> <span class="nx">wee</span> <span class="nx">bit</span> <span class="nx">uncomfortable</span><span class="p">.</span><span class="nx">In</span> <span class="nx">contrast</span><span class="p">,</span> <span class="nx">splitting</span>
</span><span class='line'><span class="nx">up</span> <span class="nx">your</span> <span class="nx">files</span> <span class="nx">into</span> <span class="nx">separate</span> <span class="nx">folders</span> <span class="nx">leads</span> <span class="nx">to</span> <span class="nx">good</span> <span class="nx">readability</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">makes</span> <span class="nx">big</span>
</span><span class='line'><span class="nx">apps</span> <span class="nx">more</span> <span class="nx">manageable</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">You</span> <span class="nx">don</span><span class="err">’</span><span class="nx">t</span> <span class="nx">have</span> <span class="nx">a</span> <span class="nx">big</span> <span class="nx">app</span><span class="p">,</span> <span class="nx">but</span> <span class="kd">let</span><span class="err">’</span><span class="nx">s</span> <span class="k">do</span> <span class="k">this</span> <span class="nx">right</span><span class="p">.</span> <span class="nx">Make</span> <span class="nx">the</span> <span class="nx">following</span>
</span><span class='line'><span class="nx">directories</span><span class="o">:</span> <span class="nx">an</span> <span class="o">*</span><span class="nx">app</span><span class="o">*</span> <span class="nx">folder</span> <span class="kd">with</span> <span class="nx">a</span> <span class="nx">routes</span> <span class="nx">folder</span> <span class="nx">inside</span> <span class="nx">it</span><span class="p">,</span> <span class="kd">with</span> <span class="nx">an</span> <span class="o">*</span><span class="nx">index</span><span class="p">.</span><span class="nx">js</span>
</span><span class='line'><span class="o">*</span><span class="nx">and</span> <span class="nx">a</span><span class="o">*</span> <span class="nx">note_routes</span><span class="p">.</span><span class="nx">js</span> <span class="o">*</span><span class="nx">file</span> <span class="nx">inside</span> <span class="nx">it</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">In</span> <span class="nx">other</span> <span class="nx">words</span><span class="o">:</span> <span class="nx">root</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="nx">app</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="nx">routes</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="nx">index</span><span class="p">.</span><span class="nx">js</span> <span class="nx">and</span> <span class="nx">note_routes</span><span class="p">.</span><span class="nx">js</span><span class="p">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">mkdir</span> <span class="nx">app</span>
</span><span class='line'><span class="nx">cd</span> <span class="nx">app</span>
</span><span class='line'><span class="nx">mkdir</span> <span class="nx">routes</span>
</span><span class='line'><span class="nx">cd</span> <span class="nx">routes</span>
</span><span class='line'><span class="nx">touch</span> <span class="nx">index</span><span class="p">.</span><span class="nx">js</span>
</span><span class='line'><span class="nx">touch</span> <span class="nx">note_routes</span><span class="p">.</span><span class="nx">js</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">These</span> <span class="nx">directories</span> <span class="nx">may</span> <span class="nx">seem</span> <span class="nx">like</span> <span class="nx">overkill</span> <span class="k">for</span> <span class="nx">your</span> <span class="nx">simple</span> <span class="nx">small</span> <span class="nx">app</span><span class="p">,</span> <span class="nx">but</span> <span class="nx">it</span><span class="err">’</span><span class="nx">s</span>
</span><span class='line'><span class="nx">always</span> <span class="nx">good</span> <span class="nx">to</span> <span class="nx">start</span> <span class="kd">with</span> <span class="nx">best</span> <span class="nx">practices</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="err">###</span> <span class="nx">Your</span> <span class="nx">First</span> <span class="nx">Route</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Let</span><span class="err">’</span><span class="nx">s</span> <span class="nx">start</span> <span class="kd">with</span> <span class="nx">the</span> <span class="nx">C</span> <span class="k">in</span> <span class="nx">CRUD</span><span class="o">-</span> <span class="nx">create</span><span class="p">.</span> <span class="nx">How</span> <span class="nx">would</span> <span class="nx">you</span> <span class="nx">create</span> <span class="nx">a</span> <span class="nx">note</span><span class="o">?</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Well</span><span class="p">,</span> <span class="nx">before</span> <span class="nx">you</span> <span class="k">do</span> <span class="nx">that</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">have</span> <span class="nx">to</span> <span class="nx">build</span> <span class="nx">a</span> <span class="nx">bit</span> <span class="nx">more</span> <span class="nx">infrastructure</span><span class="p">.</span> <span class="nx">In</span>
</span><span class='line'><span class="nx">Express</span><span class="p">,</span> <span class="nx">routes</span> <span class="nx">are</span> <span class="nx">wrapped</span> <span class="k">in</span> <span class="nx">a</span> <span class="kd">function</span><span class="p">,</span> <span class="nx">which</span> <span class="nx">takes</span> <span class="nx">the</span> <span class="nx">Express</span> <span class="nx">instance</span> <span class="nx">and</span>
</span><span class='line'><span class="nx">a</span> <span class="nx">database</span> <span class="nx">as</span> <span class="nx">arguments</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Like</span> <span class="k">this</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// routes/note_routes.js</span>
</span><span class='line'>
</span><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="nx">db</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'><span class="p">};</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">You</span> <span class="nx">can</span> <span class="nx">then</span> <span class="kr">export</span> <span class="k">this</span> <span class="kd">function</span> <span class="nx">through</span> <span class="nx">your</span><span class="o">*</span> <span class="nx">index</span><span class="p">.</span><span class="nx">js</span><span class="o">*:</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// routes/index.js</span>
</span><span class='line'>
</span><span class='line'><span class="kr">const</span> <span class="nx">noteRoutes</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./note_routes&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="nx">db</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">noteRoutes</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="nx">db</span><span class="p">);</span>
</span><span class='line'>  <span class="c1">// Other route groups could go here, in the future</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Then</span> <span class="kr">import</span> <span class="nx">it</span> <span class="k">for</span> <span class="nx">use</span> <span class="k">in</span> <span class="o">*</span><span class="nx">server</span><span class="p">.</span><span class="nx">js</span><span class="o">:*</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// server.js</span>
</span><span class='line'>
</span><span class='line'><span class="kr">const</span> <span class="nx">express</span>        <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;express&#39;</span><span class="p">);</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">MongoClient</span>    <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;mongodb&#39;</span><span class="p">).</span><span class="nx">MongoClient</span><span class="p">;</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">bodyParser</span>     <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;body-parser&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="kr">const</span> <span class="nx">app</span>            <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'><span class="kr">const</span> <span class="nx">port</span> <span class="o">=</span> <span class="mi">8000</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;We are live on &#39;</span> <span class="o">+</span> <span class="nx">port</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Note</span> <span class="nx">that</span> <span class="nx">since</span> <span class="nx">you</span> <span class="nx">don</span><span class="err">’</span><span class="nx">t</span> <span class="nx">have</span> <span class="nx">a</span> <span class="nx">database</span> <span class="nx">yet</span> <span class="nx">set</span> <span class="nx">up</span><span class="p">,</span> <span class="nx">you</span><span class="err">’</span><span class="nx">re</span> <span class="nx">just</span> <span class="nx">passing</span> <span class="k">in</span> <span class="nx">an</span>
</span><span class='line'><span class="nx">empty</span> <span class="nx">object</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Okay</span><span class="p">,</span> <span class="o">*</span><span class="nx">now</span><span class="o">*</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">make</span> <span class="nx">your</span> <span class="nx">CREATE</span> <span class="nx">route</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">The</span> <span class="nx">syntax</span> <span class="nx">is</span> <span class="nx">simple</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// note_routes.js</span>
</span><span class='line'>
</span><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="nx">db</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">When</span> <span class="nx">the</span> <span class="nx">app</span> <span class="nx">receives</span> <span class="nx">a</span> <span class="o">*</span><span class="nx">post</span> <span class="o">*</span><span class="nx">request</span> <span class="nx">to</span> <span class="nx">the</span> <span class="err">‘</span><span class="o">/</span><span class="nx">notes</span><span class="err">’</span> <span class="nx">path</span><span class="p">,</span> <span class="nx">it</span> <span class="nx">will</span> <span class="nx">execute</span> <span class="nx">the</span>
</span><span class='line'><span class="nx">code</span> <span class="nx">inside</span> <span class="nx">the</span> <span class="nx">callback</span><span class="o">-</span> <span class="nx">passing</span> <span class="k">in</span> <span class="nx">a</span> <span class="nx">request</span> <span class="nx">object</span> <span class="p">(</span><span class="nx">which</span> <span class="nx">contains</span> <span class="nx">the</span>
</span><span class='line'><span class="nx">parameters</span> <span class="nx">or</span> <span class="nx">JSON</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">request</span><span class="p">)</span> <span class="nx">and</span> <span class="nx">a</span> <span class="nx">response</span> <span class="nx">object</span> <span class="p">(</span><span class="nx">used</span> <span class="nx">to</span> <span class="nx">reply</span><span class="p">).</span>
</span><span class='line'>
</span><span class='line'><span class="nx">You</span> <span class="nx">can</span> <span class="nx">test</span> <span class="k">this</span> <span class="nx">by</span> <span class="nx">using</span> <span class="nx">Postman</span> <span class="nx">to</span> <span class="nx">send</span> <span class="nx">a</span> <span class="nx">POST</span> <span class="nx">request</span> <span class="nx">to</span>
</span><span class='line'><span class="nx">localhost</span><span class="o">:</span><span class="mi">8000</span><span class="o">/</span><span class="nx">notes</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="o">!</span><span class="p">[](</span><span class="nx">https</span><span class="o">:</span><span class="c1">//cdn-images-1.medium.com/max/800/1*pqIRP6BQSrVCCc6XVPZxPg.png)</span>
</span><span class='line'><span class="nx">You</span> <span class="nx">should</span> <span class="nx">get</span> <span class="nx">the</span> <span class="err">‘</span><span class="nx">Hello</span><span class="err">’</span> <span class="nx">back</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Nice</span><span class="o">!</span> <span class="nx">You</span> <span class="nx">created</span> <span class="nx">your</span> <span class="nx">first</span> <span class="nx">real</span> <span class="nx">route</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Next</span> <span class="nx">step</span> <span class="nx">is</span> <span class="nx">to</span> <span class="nx">add</span> <span class="nx">some</span> <span class="nx">parameters</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">request</span> <span class="nx">and</span> <span class="nx">process</span> <span class="nx">them</span> <span class="k">in</span> <span class="nx">your</span> <span class="nx">API</span>
</span><span class='line'><span class="nx">and</span><span class="p">,</span> <span class="k">finally</span><span class="p">,</span> <span class="nx">add</span> <span class="k">in</span> <span class="nx">your</span> <span class="nx">database</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="err">###</span> <span class="nx">Request</span> <span class="nx">Parameters</span>
</span><span class='line'>
</span><span class='line'><span class="nx">In</span> <span class="nx">Postman</span><span class="p">,</span> <span class="nx">go</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">Body</span> <span class="nx">tab</span> <span class="nx">and</span> <span class="nx">add</span> <span class="nx">some</span> <span class="nx">key</span><span class="o">-</span><span class="nx">value</span> <span class="nx">pairs</span><span class="p">,</span> <span class="nx">after</span> <span class="nx">selecting</span> <span class="nx">the</span>
</span><span class='line'><span class="o">*</span><span class="nx">x</span><span class="o">-</span><span class="nx">www</span><span class="o">-</span><span class="nx">form</span><span class="o">-</span><span class="nx">urlencoded</span><span class="o">*</span> <span class="nx">radio</span> <span class="nx">button</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">This</span> <span class="nx">will</span> <span class="nx">add</span> <span class="nx">encoded</span> <span class="nx">form</span> <span class="nx">data</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">request</span><span class="p">,</span> <span class="nx">which</span> <span class="nx">you</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">be</span> <span class="nx">able</span> <span class="nx">to</span> <span class="nx">process</span>
</span><span class='line'><span class="kd">with</span> <span class="nx">your</span> <span class="nx">API</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="o">!</span><span class="p">[](</span><span class="nx">https</span><span class="o">:</span><span class="c1">//cdn-images-1.medium.com/max/800/1*z2mIHYqGFYhSJv0x2_caqg.png)</span>
</span><span class='line'><span class="nx">You</span> <span class="nx">can</span> <span class="k">try</span> <span class="nx">being</span> <span class="nx">more</span> <span class="nx">creative</span> <span class="nx">than</span> <span class="nx">me</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Now</span> <span class="k">in</span> <span class="nx">your</span> <span class="o">*</span><span class="nx">note_routes</span><span class="p">.</span><span class="nx">js</span><span class="o">*</span><span class="p">,</span> <span class="kd">let</span><span class="err">’</span><span class="nx">s</span> <span class="nx">just</span> <span class="nx">log</span> <span class="nx">out</span> <span class="nx">the</span> <span class="nx">body</span><span class="p">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// note_routes.js</span>
</span><span class='line'>
</span><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="nx">db</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/notes&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'><span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">)</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Try</span> <span class="nx">sending</span> <span class="nx">the</span> <span class="nx">Postman</span> <span class="nx">request</span> <span class="nx">and</span> <span class="nx">you</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">see</span><span class="err">…</span> <span class="kc">undefined</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Unfortunately</span><span class="p">,</span> <span class="nx">Express</span> <span class="nx">can</span><span class="err">’</span><span class="nx">t</span> <span class="nx">process</span> <span class="nx">URL</span> <span class="nx">encoded</span> <span class="nx">forms</span> <span class="nx">on</span> <span class="nx">its</span> <span class="nx">own</span><span class="p">.</span> <span class="nx">But</span> <span class="nx">you</span> <span class="nx">did</span>
</span><span class='line'><span class="nx">install</span> <span class="nx">that</span> <span class="nx">body</span><span class="o">-</span><span class="nx">parser</span> <span class="kr">package</span><span class="err">…</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// server.</span>
</span><span class='line'>
</span><span class='line'><span class="kr">const</span> <span class="nx">express</span>        <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;express&#39;</span><span class="p">);</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">MongoClient</span>    <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;mongodb&#39;</span><span class="p">).</span><span class="nx">MongoClient</span><span class="p">;</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">bodyParser</span>     <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;body-parser&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="kr">const</span> <span class="nx">app</span>            <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'><span class="kr">const</span> <span class="nx">port</span> <span class="o">=</span> <span class="mi">8000</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./app/routes&#39;</span><span class="p">)(</span><span class="nx">app</span><span class="p">,</span> <span class="p">{});</span>
</span><span class='line'><span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;We are live on &#39;</span> <span class="o">+</span> <span class="nx">port</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Now</span> <span class="nx">you</span> <span class="nx">should</span> <span class="nx">see</span> <span class="nx">the</span> <span class="nx">body</span> <span class="nx">as</span> <span class="nx">an</span> <span class="nx">object</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">terminal</span><span class="p">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;My Note Title&#39;</span><span class="p">,</span> <span class="nx">body</span><span class="o">:</span> <span class="s1">&#39;What a great note.&#39;</span> <span class="p">}</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Last</span> <span class="nx">step</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">preliminary</span> <span class="nx">route</span><span class="o">:</span> <span class="nx">set</span> <span class="nx">up</span> <span class="nx">the</span> <span class="nx">database</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">then</span> <span class="nx">add</span> <span class="nx">your</span> <span class="nx">data</span>
</span><span class='line'><span class="k">in</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">The</span> <span class="nx">easiest</span> <span class="nx">way</span> <span class="nx">to</span> <span class="nx">set</span> <span class="nx">up</span> <span class="nx">a</span> <span class="nx">Mongo</span> <span class="nx">database</span> <span class="nx">is</span> <span class="nx">through</span> <span class="p">[</span><span class="nx">mLab</span><span class="p">](</span><span class="nx">https</span><span class="o">:</span><span class="c1">//mlab.com/):</span>
</span><span class='line'><span class="nx">it</span><span class="err">’</span><span class="nx">s</span> <span class="nx">free</span> <span class="k">for</span> <span class="nx">the</span> <span class="nx">smallest</span> <span class="nx">size</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">quite</span> <span class="nx">fast</span> <span class="nx">to</span> <span class="nx">setup</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Once</span> <span class="nx">you</span> <span class="nx">create</span> <span class="nx">an</span> <span class="nx">account</span> <span class="nx">and</span> <span class="nx">a</span> <span class="nx">MongoDB</span> <span class="nx">deployment</span><span class="p">,</span> <span class="nx">add</span> <span class="nx">a</span> <span class="nx">user</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">database</span>
</span><span class='line'><span class="kd">with</span> <span class="nx">a</span> <span class="nx">username</span> <span class="nx">and</span> <span class="nx">password</span><span class="o">:</span>
</span><span class='line'>
</span><span class='line'><span class="o">!</span><span class="p">[](</span><span class="nx">https</span><span class="o">:</span><span class="c1">//cdn-images-1.medium.com/max/800/1*E5ws9QPkraXVwigcdW86nw.png)</span>
</span><span class='line'>
</span><span class='line'><span class="nx">then</span> <span class="nx">grab</span> <span class="nx">the</span> <span class="nx">URL</span> <span class="nx">here</span> <span class="p">(</span><span class="nx">the</span> <span class="nx">second</span> <span class="nx">one</span><span class="p">)</span><span class="o">:</span>
</span><span class='line'>
</span><span class='line'><span class="o">!</span><span class="p">[](</span><span class="nx">https</span><span class="o">:</span><span class="c1">//cdn-images-1.medium.com/max/800/1*kJMlsvyB11W73cO-CioxxA.png)</span>
</span><span class='line'>
</span><span class='line'><span class="nx">And</span> <span class="k">in</span> <span class="nx">a</span> <span class="nx">directory</span> <span class="nx">config</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">root</span> <span class="nx">of</span> <span class="nx">your</span> <span class="nx">project</span><span class="p">,</span> <span class="nx">create</span> <span class="nx">a</span> <span class="nx">db</span><span class="p">.</span><span class="nx">js</span> <span class="nx">file</span><span class="p">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">mkdir</span> <span class="nx">config</span>
</span><span class='line'><span class="nx">cd</span> <span class="nx">config</span>
</span><span class='line'><span class="nx">touch</span> <span class="nx">db</span><span class="p">.</span><span class="nx">js</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Inside</span><span class="p">,</span> <span class="nx">add</span> <span class="nx">the</span> <span class="nx">URL</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">url</span> <span class="o">:</span> <span class="nx">YOUR</span> <span class="nx">URL</span> <span class="nx">HERE</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Don</span><span class="err">’</span><span class="nx">t</span> <span class="nx">forget</span> <span class="nx">to</span> <span class="nx">add</span> <span class="nx">your</span> <span class="nx">username</span> <span class="nx">and</span> <span class="nx">password</span> <span class="p">(</span><span class="nx">the</span> <span class="nx">ones</span> <span class="nx">from</span> <span class="nx">the</span> <span class="nx">database</span> <span class="nx">user</span><span class="p">,</span>
</span><span class='line'><span class="nx">not</span> <span class="nx">your</span> <span class="nx">mLab</span> <span class="nx">account</span><span class="p">)</span> <span class="nx">into</span> <span class="nx">the</span> <span class="nx">URL</span><span class="p">.</span> <span class="p">(</span><span class="nx">If</span> <span class="nx">you</span><span class="err">’</span><span class="nx">re</span> <span class="nx">committing</span> <span class="k">this</span> <span class="nx">project</span> <span class="nx">to</span>
</span><span class='line'><span class="nx">Github</span><span class="p">,</span> <span class="nx">be</span> <span class="nx">sure</span> <span class="nx">to</span> <span class="nx">include</span> <span class="nx">a</span> <span class="p">.</span><span class="nx">gitignore</span> <span class="nx">file</span> <span class="p">[</span><span class="nx">like</span>
</span><span class='line'><span class="nx">so</span><span class="p">](</span><span class="nx">https</span><span class="o">:</span><span class="c1">//github.com/scottdomes/notable-node-api-tutorial/blob/master/.gitignore),</span>
</span><span class='line'><span class="nx">so</span> <span class="nx">you</span> <span class="nx">don</span><span class="err">’</span><span class="nx">t</span> <span class="nx">share</span> <span class="nx">your</span> <span class="nx">password</span> <span class="kd">with</span> <span class="nx">everyone</span><span class="p">.)</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Now</span> <span class="k">in</span> <span class="nx">your</span> <span class="o">*</span><span class="nx">server</span><span class="p">.</span><span class="nx">js</span><span class="o">*</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">use</span> <span class="nx">the</span> <span class="nx">MongoClient</span> <span class="nx">to</span> <span class="nx">connect</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">DB</span><span class="p">,</span> <span class="nx">and</span>
</span><span class='line'><span class="nx">use</span> <span class="k">this</span> <span class="nx">to</span> <span class="nx">wrap</span> <span class="nx">your</span> <span class="nx">app</span> <span class="nx">setup</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// server.js</span>
</span><span class='line'>
</span><span class='line'><span class="kr">const</span> <span class="nx">express</span>        <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;express&#39;</span><span class="p">);</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">MongoClient</span>    <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;mongodb&#39;</span><span class="p">).</span><span class="nx">MongoClient</span><span class="p">;</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">bodyParser</span>     <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;body-parser&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="kr">const</span> <span class="nx">app</span>            <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'><span class="kr">const</span> <span class="nx">port</span> <span class="o">=</span> <span class="mi">8000</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">urlencoded</span><span class="p">({</span> <span class="nx">extended</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}));</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">That</span><span class="err">’</span><span class="nx">s</span> <span class="nx">the</span> <span class="nx">last</span> <span class="nx">of</span> <span class="nx">your</span> <span class="nx">infrastructure</span> <span class="nx">setup</span><span class="o">!</span> <span class="nx">It</span><span class="err">’</span><span class="nx">s</span> <span class="nx">all</span> <span class="nx">route</span><span class="o">-</span><span class="nx">building</span> <span class="nx">from</span> <span class="nx">here</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="err">###</span> <span class="nx">Adding</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">Database</span>
</span><span class='line'>
</span><span class='line'><span class="nx">MongoDB</span> <span class="nx">stores</span> <span class="nx">data</span> <span class="k">in</span> <span class="o">*</span><span class="nx">collections</span><span class="o">*-</span> <span class="nx">which</span> <span class="nx">are</span> <span class="nx">exactly</span> <span class="nx">how</span> <span class="nx">they</span> <span class="nx">sound</span><span class="p">.</span> <span class="nx">In</span> <span class="nx">your</span>
</span><span class='line'><span class="k">case</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">want</span> <span class="nx">to</span> <span class="nx">store</span> <span class="nx">your</span> <span class="nx">notes</span> <span class="k">in</span> <span class="nx">a</span> <span class="nx">collection</span> <span class="nx">called</span> <span class="err">—</span> <span class="nx">you</span> <span class="nx">guessed</span> <span class="nx">it</span> <span class="err">—</span>
</span><span class='line'><span class="nx">notes</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Since</span> <span class="nx">you</span> <span class="nx">pass</span> <span class="k">in</span> <span class="nx">your</span> <span class="nx">database</span> <span class="nx">as</span> <span class="nx">the</span> <span class="o">*</span><span class="nx">db</span> <span class="o">*</span><span class="nx">argument</span> <span class="k">in</span> <span class="nx">your</span> <span class="nx">routes</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">can</span>
</span><span class='line'><span class="nx">then</span> <span class="nx">access</span> <span class="nx">it</span> <span class="nx">like</span> <span class="nx">so</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;notes&#39;</span><span class="p">)</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Creating</span> <span class="nx">a</span> <span class="nx">note</span> <span class="nx">is</span> <span class="nx">as</span> <span class="nx">simple</span> <span class="nx">as</span> <span class="nx">calling</span> <span class="o">*</span><span class="nx">insert</span> <span class="o">*</span><span class="nx">on</span> <span class="nx">your</span> <span class="nx">collection</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="kr">const</span> <span class="nx">note</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">text</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span>
</span><span class='line'>  <span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;notes&#39;</span><span class="p">).</span><span class="nx">insert</span><span class="p">(</span><span class="nx">note</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">results</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Once</span> <span class="nx">the</span> <span class="nx">insert</span> <span class="nx">is</span> <span class="nx">complete</span> <span class="p">(</span><span class="nx">or</span> <span class="nx">has</span> <span class="nx">failed</span> <span class="k">for</span> <span class="nx">whatever</span> <span class="nx">reason</span><span class="p">),</span> <span class="nx">you</span> <span class="nx">want</span> <span class="nx">to</span>
</span><span class='line'><span class="nx">either</span> <span class="nx">send</span> <span class="nx">back</span> <span class="nx">an</span> <span class="nx">error</span> <span class="nx">or</span> <span class="nx">send</span> <span class="nx">back</span> <span class="nx">the</span> <span class="nx">newly</span> <span class="nx">created</span> <span class="nx">note</span> <span class="nx">object</span><span class="p">.</span> <span class="nx">Here</span><span class="err">’</span><span class="nx">s</span> <span class="nx">the</span>
</span><span class='line'><span class="nx">full</span> <span class="o">*</span><span class="nx">note_routes</span><span class="p">.</span><span class="nx">js</span><span class="o">:*</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// note_routes.js</span>
</span><span class='line'>
</span><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="nx">db</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/notes&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">note</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">text</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">title</span> <span class="p">};</span>
</span><span class='line'><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;notes&#39;</span><span class="p">).</span><span class="nx">insert</span><span class="p">(</span><span class="nx">note</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Try</span> <span class="nx">it</span> <span class="nx">out</span><span class="o">!</span> <span class="nx">Send</span> <span class="nx">an</span> <span class="nx">x</span><span class="o">-</span><span class="nx">www</span><span class="o">-</span><span class="nx">form</span><span class="o">-</span><span class="nx">urlencoded</span> <span class="nx">POST</span> <span class="nx">request</span> <span class="kd">with</span> <span class="nx">Postman</span><span class="p">,</span> <span class="kd">with</span> <span class="nx">a</span>
</span><span class='line'><span class="o">*</span><span class="nx">title</span> <span class="o">*</span><span class="nx">and</span> <span class="o">*</span><span class="nx">body</span> <span class="o">*</span><span class="nx">set</span> <span class="nx">under</span> <span class="nx">the</span> <span class="nx">Body</span> <span class="nx">tab</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">The</span> <span class="nx">response</span> <span class="nx">should</span> <span class="nx">look</span> <span class="nx">like</span> <span class="k">this</span><span class="o">:</span>
</span><span class='line'>
</span><span class='line'><span class="o">!</span><span class="p">[](</span><span class="nx">https</span><span class="o">:</span><span class="c1">//cdn-images-1.medium.com/max/800/1*YcGwoqOpRkQEo-N0W_-WEA.png)</span>
</span><span class='line'>
</span><span class='line'><span class="nx">If</span> <span class="nx">you</span> <span class="nx">log</span> <span class="nx">into</span> <span class="nx">mLab</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">should</span> <span class="nx">also</span> <span class="nx">see</span> <span class="nx">the</span> <span class="nx">created</span> <span class="nx">note</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">database</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="err">###</span> <span class="nx">Your</span> <span class="nx">READ</span> <span class="nx">Route</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Now</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">pick</span> <span class="nx">up</span> <span class="nx">the</span> <span class="nx">pace</span> <span class="nx">a</span> <span class="nx">bit</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Say</span> <span class="nx">you</span> <span class="nx">wanted</span> <span class="nx">to</span> <span class="nx">get</span> <span class="nx">back</span> <span class="nx">the</span> <span class="nx">note</span> <span class="nx">you</span> <span class="nx">just</span> <span class="nx">created</span><span class="p">,</span> <span class="nx">by</span> <span class="nx">navigating</span> <span class="nx">to</span>
</span><span class='line'><span class="nx">localhost</span><span class="o">:</span><span class="mi">8000</span><span class="o">/</span><span class="nx">notes</span><span class="o">/</span><span class="p">{</span><span class="nx">the</span> <span class="nx">id</span><span class="p">}.</span> <span class="nx">In</span> <span class="k">this</span> <span class="k">case</span><span class="p">,</span> <span class="nx">that</span> <span class="nx">would</span> <span class="nx">be</span>
</span><span class='line'><span class="nx">localhost</span><span class="o">:</span><span class="mi">8000</span><span class="o">/</span><span class="nx">notes</span><span class="o">/</span><span class="mi">585182</span><span class="nx">bd42ac5b07a9755ea3</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nx">If</span> <span class="nx">you</span> <span class="nx">don</span><span class="err">’</span><span class="nx">t</span> <span class="nx">have</span> <span class="nx">the</span> <span class="nx">ID</span> <span class="k">for</span> <span class="nx">one</span> <span class="nx">of</span> <span class="nx">your</span> <span class="nx">notes</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">check</span> <span class="nx">on</span> <span class="nx">mLab</span> <span class="nx">or</span> <span class="nx">just</span>
</span><span class='line'><span class="nx">create</span> <span class="nx">a</span> <span class="k">new</span> <span class="nx">one</span><span class="p">).</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Here</span><span class="err">’</span><span class="nx">s</span> <span class="nx">what</span> <span class="k">this</span> <span class="nx">would</span> <span class="nx">look</span> <span class="nx">like</span> <span class="k">in</span> <span class="o">*</span><span class="nx">note_routes</span><span class="p">.</span><span class="nx">js</span><span class="o">*:</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// note_routes.js</span>
</span><span class='line'>
</span><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span>
</span><span class='line'><span class="kd">function</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="nx">db</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/notes&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">note</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">text</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">title</span> <span class="p">};</span>
</span><span class='line'><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;notes&#39;</span><span class="p">).</span><span class="nx">insert</span><span class="p">(</span><span class="nx">note</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">({</span> <span class="s1">&#39;error&#39;</span><span class="o">:</span> <span class="s1">&#39;An error has occurred&#39;</span> <span class="p">});</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">ops</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Just</span> <span class="nx">like</span> <span class="nx">before</span><span class="p">,</span> <span class="nx">you</span><span class="err">’</span><span class="nx">re</span> <span class="nx">going</span> <span class="nx">to</span> <span class="nx">call</span> <span class="nx">a</span> <span class="nx">method</span> <span class="nx">on</span> <span class="nx">your</span> <span class="nx">database</span> <span class="nx">collection</span> <span class="nx">of</span>
</span><span class='line'><span class="nx">notes</span><span class="p">.</span> <span class="nx">Here</span><span class="p">,</span> <span class="nx">it</span><span class="err">’</span><span class="nx">s</span> <span class="nx">the</span> <span class="nx">aptly</span> <span class="nx">named</span> <span class="nx">findOne</span><span class="p">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// note_routes.js</span>
</span><span class='line'>
</span><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="nx">db</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/notes/:id&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/notes&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">note</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">text</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">title</span> <span class="p">};</span>
</span><span class='line'><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;notes&#39;</span><span class="p">).</span><span class="nx">insert</span><span class="p">(</span><span class="nx">note</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">({</span> <span class="s1">&#39;error&#39;</span><span class="o">:</span> <span class="s1">&#39;An error has occurred&#39;</span> <span class="p">});</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">ops</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">You</span> <span class="nx">can</span> <span class="nx">grab</span> <span class="nx">the</span> <span class="nx">id</span> <span class="nx">from</span> <span class="nx">the</span> <span class="nx">URL</span> <span class="nx">parameters</span> <span class="nx">via</span> <span class="o">*</span><span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="o">*</span><span class="p">.</span> <span class="nx">However</span><span class="p">,</span> <span class="k">if</span> <span class="nx">you</span>
</span><span class='line'><span class="k">try</span> <span class="nx">to</span> <span class="nx">just</span> <span class="nx">plop</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">string</span> <span class="nx">into</span> <span class="nx">the</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="nx">above</span><span class="p">,</span> <span class="nx">it</span> <span class="nx">won</span><span class="err">’</span><span class="nx">t</span> <span class="nx">work</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">MongoDB</span> <span class="nx">requires</span> <span class="nx">not</span> <span class="nx">just</span> <span class="nx">an</span> <span class="nx">ID</span> <span class="nx">as</span> <span class="nx">a</span> <span class="o">*</span><span class="nx">string</span><span class="o">*</span><span class="p">,</span> <span class="nx">but</span> <span class="nx">as</span> <span class="nx">an</span> <span class="nx">ID</span> <span class="o">*</span><span class="nx">object</span><span class="o">*</span> <span class="nx">or</span><span class="p">,</span> <span class="nx">as</span> <span class="nx">they</span>
</span><span class='line'><span class="nx">call</span> <span class="nx">it</span><span class="p">,</span> <span class="nx">an</span> <span class="nx">ObjectID</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Don</span><span class="err">’</span><span class="nx">t</span> <span class="nx">worry</span><span class="p">,</span> <span class="nx">it</span><span class="err">’</span><span class="nx">s</span> <span class="nx">an</span> <span class="nx">easy</span> <span class="nx">fix</span><span class="p">.</span> <span class="nx">Here</span><span class="err">’</span><span class="nx">s</span> <span class="nx">the</span> <span class="nx">full</span> <span class="nx">code</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// note_routes.js</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="nx">db</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/notes/:id&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;notes&#39;</span><span class="p">).</span><span class="nx">findOne</span><span class="p">(</span><span class="nx">details</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">item</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="o">:</span><span class="s1">&#39;An error has occurred&#39;</span><span class="p">});</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/notes&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">note</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">text</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">title</span> <span class="p">};</span>
</span><span class='line'><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;notes&#39;</span><span class="p">).</span><span class="nx">insert</span><span class="p">(</span><span class="nx">note</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">({</span> <span class="s1">&#39;error&#39;</span><span class="o">:</span> <span class="s1">&#39;An error has occurred&#39;</span> <span class="p">});</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">ops</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Try</span> <span class="nx">it</span> <span class="nx">out</span> <span class="kd">with</span> <span class="nx">one</span> <span class="nx">of</span> <span class="nx">your</span> <span class="nx">note</span> <span class="nx">ID</span><span class="err">’</span><span class="nx">s</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">it</span> <span class="nx">should</span> <span class="nx">look</span> <span class="nx">like</span> <span class="k">this</span><span class="o">:</span>
</span><span class='line'>
</span><span class='line'><span class="err">###</span> <span class="nx">Your</span> <span class="nx">DELETE</span> <span class="nx">Route</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Deleting</span> <span class="nx">an</span> <span class="nx">object</span> <span class="nx">is</span> <span class="nx">actually</span> <span class="nx">pretty</span> <span class="nx">much</span> <span class="nx">the</span> <span class="nx">same</span> <span class="nx">as</span> <span class="nx">finding</span> <span class="nx">an</span> <span class="nx">object</span><span class="p">.</span> <span class="nx">You</span>
</span><span class='line'><span class="nx">just</span> <span class="nx">use</span> <span class="nx">the</span> <span class="o">*</span><span class="nx">remove</span><span class="o">*</span> <span class="kd">function</span> <span class="nx">instead</span> <span class="nx">of</span> <span class="nx">the</span> <span class="o">*</span><span class="nx">findOne</span><span class="o">*</span><span class="p">.</span> <span class="nx">Here</span><span class="err">’</span><span class="nx">s</span> <span class="nx">the</span> <span class="nx">full</span> <span class="nx">code</span><span class="p">.</span>
</span><span class='line'><span class="nx">I</span><span class="err">’</span><span class="nx">ve</span> <span class="nx">highlighted</span> <span class="nx">what</span><span class="err">’</span><span class="nx">s</span> <span class="nx">different</span> <span class="nx">from</span> <span class="nx">your</span> <span class="nx">GET</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// note_routes.js</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ...</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">app</span><span class="p">.</span>
</span><span class='line'><span class="p">(</span><span class="s1">&#39;/notes/:id&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
</span><span class='line'><span class="kr">const</span> <span class="nx">details</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;_id&#39;</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ObjectID</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">};</span>
</span><span class='line'><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">(</span><span class="s1">&#39;notes&#39;</span><span class="p">).</span>
</span><span class='line'><span class="p">(</span><span class="nx">details</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">item</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="o">:</span><span class="s1">&#39;An error has occurred&#39;</span><span class="p">});</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ...</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="err">###</span> <span class="o">**</span><span class="nx">Your</span> <span class="nx">UPDATE</span> <span class="nx">Route</span><span class="o">**</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Last</span> <span class="nx">one</span><span class="o">!</span> <span class="nx">The</span> <span class="nx">PUT</span> <span class="nx">is</span> <span class="nx">basically</span> <span class="nx">a</span> <span class="nx">hybrid</span> <span class="nx">between</span> <span class="nx">READ</span> <span class="nx">and</span> <span class="nx">CREATE</span><span class="p">.</span> <span class="nx">You</span> <span class="nx">find</span> <span class="nx">the</span>
</span><span class='line'><span class="nx">object</span><span class="p">,</span> <span class="nx">then</span> <span class="nx">update</span> <span class="nx">it</span> <span class="nx">accordingly</span><span class="p">.</span> <span class="nx">If</span> <span class="nx">you</span> <span class="nx">deleted</span> <span class="nx">your</span> <span class="nx">only</span> <span class="nx">note</span><span class="p">,</span> <span class="nx">time</span> <span class="nx">to</span> <span class="nx">make</span>
</span><span class='line'><span class="nx">another</span> <span class="nx">one</span><span class="o">!</span>
</span><span class='line'>
</span><span class='line'><span class="nx">The</span> <span class="nx">code</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// note_routes.js</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ...</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">app</span><span class="p">.</span>
</span><span class='line'><span class="p">(</span><span class="s1">&#39;/notes/:id&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="o">:</span><span class="s1">&#39;An error has occurred&#39;</span><span class="p">});</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">note</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ...</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="err">```</span>
</span><span class='line'><span class="nx">Now</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">update</span> <span class="nx">any</span> <span class="nx">of</span> <span class="nx">your</span> <span class="nx">notes</span><span class="p">,</span> <span class="nx">like</span> <span class="nx">so</span><span class="o">:&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;https://cdn-images-1.medium.com/max/800/1*LZ1DzuxzAJAyNYjO4sZcmg.png&quot;</span> <span class="nx">alt</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="o">/&gt;&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Note</span> <span class="nx">the</span> <span class="nx">imperfection</span> <span class="kd">with</span> <span class="k">this</span> <span class="nx">code</span><span class="o">-</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">fail</span> <span class="nx">to</span> <span class="nx">supply</span> <span class="nx">a</span> <span class="nx">body</span> <span class="nx">or</span> <span class="nx">title</span><span class="p">,</span> <span class="nx">the</span>
</span><span class='line'><span class="nx">PUT</span> <span class="nx">request</span> <span class="nx">will</span> <span class="nx">nullify</span> <span class="nx">those</span> <span class="nx">fields</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">note</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">database</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">You</span> <span class="nx">could</span> <span class="nx">easily</span> <span class="nx">add</span> <span class="nx">some</span> <span class="nx">conditional</span> <span class="nx">logic</span> <span class="nx">to</span> <span class="nx">update</span> <span class="nx">the</span> <span class="nx">fields</span> <span class="nx">only</span> <span class="k">if</span> <span class="nx">they</span><span class="err">’</span><span class="nx">re</span>
</span><span class='line'><span class="nx">present</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">request</span><span class="o">-</span> <span class="nx">I</span> <span class="nx">left</span> <span class="nx">that</span> <span class="nx">out</span> <span class="nx">just</span> <span class="nx">to</span> <span class="nx">keep</span> <span class="nx">it</span> <span class="nx">simple</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">API</span> <span class="nx">Complete</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">That</span><span class="err">’</span><span class="nx">s</span> <span class="nx">it</span><span class="o">!</span> <span class="nx">You</span> <span class="nx">have</span> <span class="nx">a</span> <span class="nx">working</span> <span class="nx">Node</span> <span class="nx">API</span> <span class="kd">with</span> <span class="nx">each</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">four</span> <span class="nx">major</span> <span class="nx">CRUD</span>
</span><span class='line'><span class="nx">operations</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">The</span> <span class="nx">goal</span> <span class="nx">of</span> <span class="k">this</span> <span class="nx">tutorial</span> <span class="nx">was</span> <span class="nx">to</span> <span class="nx">give</span> <span class="nx">you</span> <span class="nx">a</span> <span class="nx">degree</span> <span class="nx">of</span> <span class="nx">familiarity</span> <span class="kd">with</span> <span class="nx">Express</span><span class="p">,</span>
</span><span class='line'><span class="nx">Node</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">MongoDB</span> <span class="err">—</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">use</span> <span class="nx">your</span> <span class="nx">simple</span> <span class="nx">app</span> <span class="nx">as</span> <span class="nx">a</span> <span class="nx">launching</span> <span class="nx">pad</span> <span class="k">for</span> <span class="nx">more</span>
</span><span class='line'><span class="nx">complex</span> <span class="nx">projects</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">In</span> <span class="nx">the</span> <span class="nx">future</span> <span class="nx">I</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">be</span> <span class="nx">writing</span> <span class="nx">tutorials</span> <span class="nx">to</span> <span class="nx">create</span> <span class="nx">more</span> <span class="nx">simple</span> <span class="nx">API</span><span class="err">’</span><span class="nx">s</span> <span class="k">in</span> <span class="nx">different</span>
</span><span class='line'><span class="nx">languages</span> <span class="nx">and</span> <span class="nx">frameworks</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">If</span> <span class="k">this</span> <span class="nx">tutorial</span> <span class="nx">was</span> <span class="nx">any</span> <span class="nx">help</span> <span class="nx">to</span> <span class="nx">you</span><span class="p">,</span> <span class="nx">please</span> <span class="nx">share</span> <span class="nx">it</span> <span class="kd">with</span> <span class="nx">friends</span> <span class="nx">and</span> <span class="nx">colleagues</span><span class="o">-</span> <span class="nx">it</span> <span class="nx">means</span>
</span><span class='line'><span class="nx">a</span> <span class="nx">lot</span><span class="p">.</span> <span class="nx">Feel</span> <span class="nx">free</span> <span class="nx">to</span> <span class="nx">also</span> <span class="nx">leave</span> <span class="nx">me</span> <span class="nx">a</span> <span class="nx">comment</span> <span class="kd">with</span> <span class="nx">any</span> <span class="nx">feedback</span> <span class="nx">or</span> <span class="nx">questions</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Thanks</span> <span class="k">for</span> <span class="nx">reading</span><span class="o">!&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'><span class="p">]]</span><span class="o">&gt;&lt;</span><span class="err">/content&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="err">/entry&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">entry</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">title</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;html&quot;</span><span class="o">&gt;&lt;!</span><span class="p">[</span><span class="nx">CDATA</span><span class="p">[</span><span class="nx">How</span> <span class="nx">to</span> <span class="nx">Benchmark</span> <span class="nx">React</span> <span class="nx">Components</span><span class="o">:</span> <span class="nx">The</span> <span class="nx">Quick</span> <span class="nx">and</span> <span class="nx">Dirty</span> <span class="nx">Guide</span><span class="p">]]</span><span class="o">&gt;&lt;</span><span class="err">/title&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">link</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;http://scottdomes.com/blog/how-to-benchmark-react-components-the-quick-and-dirty-guide/&quot;</span><span class="o">/&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">updated</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">11</span><span class="nx">T16</span><span class="o">:</span><span class="mi">50</span><span class="o">:</span><span class="mi">37</span><span class="o">-</span><span class="mi">07</span><span class="o">:</span><span class="mi">00</span><span class="o">&lt;</span><span class="err">/updated&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">id</span><span class="o">&gt;</span><span class="nx">http</span><span class="o">:</span><span class="c1">//scottdomes.com/blog/how-to-benchmark-react-components-the-quick-and-dirty-guide&lt;/id&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">content</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;html&quot;</span><span class="o">&gt;&lt;!</span><span class="p">[</span><span class="nx">CDATA</span><span class="p">[</span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">A</span> <span class="nx">React</span> <span class="nx">Component</span> <span class="nx">works</span> <span class="nx">hard</span><span class="p">.</span> <span class="nx">As</span> <span class="nx">the</span> <span class="nx">user</span> <span class="nx">manipulates</span> <span class="nx">the</span> <span class="nx">state</span> <span class="nx">of</span> <span class="nx">the</span>
</span><span class='line'><span class="nx">application</span><span class="p">,</span> <span class="nx">it</span> <span class="nx">may</span> <span class="nx">re</span><span class="o">-</span><span class="nx">render</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span> <span class="nx">times</span><span class="p">.</span> <span class="nx">Sometimes</span><span class="p">,</span> <span class="nx">that</span><span class="err">’</span><span class="nx">s</span> <span class="nx">a</span> <span class="nx">good</span> <span class="nx">thing</span><span class="p">.</span>
</span><span class='line'><span class="nx">But</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">don</span><span class="err">’</span><span class="nx">t</span> <span class="nx">understand</span> <span class="nx">what</span> <span class="nx">is</span> <span class="nx">causing</span> <span class="nx">the</span> <span class="nx">re</span><span class="o">-</span><span class="nx">renders</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">whether</span> <span class="nx">they</span> <span class="nx">are</span>
</span><span class='line'><span class="nx">necessary</span><span class="p">,</span> <span class="nx">your</span> <span class="nx">app</span> <span class="nx">could</span> <span class="nx">suffer</span> <span class="nx">serious</span> <span class="nx">slowdown</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;https://cdn-images-1.medium.com/max/800/1*VDZqVFTK09inhHpjKJpXpw.png&quot;</span> <span class="nx">alt</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="o">/&gt;&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&lt;!--</span><span class="nx">more</span><span class="o">--&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">A</span> <span class="nx">Tale</span> <span class="nx">of</span> <span class="nx">Two</span> <span class="nx">Tables</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">A</span> <span class="nx">few</span> <span class="nx">months</span> <span class="nx">after</span> <span class="nx">I</span> <span class="nx">started</span> <span class="nx">at</span> <span class="nx">MuseFind</span><span class="p">,</span> <span class="nx">we</span> <span class="nx">embarked</span> <span class="nx">on</span> <span class="nx">a</span> <span class="nx">rewrite</span> <span class="nx">of</span> <span class="nx">our</span>
</span><span class='line'><span class="nx">internal</span> <span class="nx">software</span><span class="p">.</span> <span class="nx">The</span> <span class="nx">key</span> <span class="nx">piece</span> <span class="k">in</span> <span class="k">this</span> <span class="nx">application</span> <span class="nx">was</span> <span class="nx">a</span> <span class="nx">table</span> <span class="nx">that</span> <span class="nx">allowed</span>
</span><span class='line'><span class="nx">our</span> <span class="nx">customer</span> <span class="nx">success</span> <span class="nx">team</span> <span class="nx">toquickly</span> <span class="nx">edit</span><span class="p">,</span> <span class="nx">add</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">manage</span> <span class="nx">collaborations</span> <span class="nx">across</span>
</span><span class='line'><span class="nx">all</span> <span class="nx">influencer</span> <span class="nx">marketing</span> <span class="nx">campaigns</span> <span class="nx">on</span> <span class="nx">our</span> <span class="nx">platform</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">The</span> <span class="nx">purpose</span> <span class="nx">of</span> <span class="k">this</span> <span class="nx">rewrite</span> <span class="nx">was</span> <span class="nx">to</span> <span class="nx">improve</span> <span class="nx">our</span> <span class="nx">team</span><span class="err">’</span><span class="nx">s</span> <span class="nx">efficiency</span> <span class="err">—</span> <span class="nx">speed</span> <span class="nx">was</span> <span class="nx">the</span>
</span><span class='line'><span class="nx">name</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">game</span><span class="p">.</span> <span class="nx">But</span> <span class="nx">as</span> <span class="nx">the</span> <span class="nx">table</span> <span class="nx">grew</span> <span class="k">in</span> <span class="nx">complexity</span> <span class="p">(</span><span class="nx">more</span> <span class="nx">and</span> <span class="nx">more</span>
</span><span class='line'><span class="nx">subcomponents</span> <span class="k">for</span> <span class="nx">each</span> <span class="nx">row</span><span class="p">,</span> <span class="kd">with</span> <span class="nx">inputs</span> <span class="nx">and</span> <span class="nx">date</span> <span class="nx">inputs</span> <span class="nx">and</span> <span class="nx">buttons</span><span class="p">),</span> <span class="nx">it</span> <span class="nx">became</span>
</span><span class='line'><span class="nx">more</span> <span class="nx">and</span> <span class="nx">more</span> <span class="nx">slow</span><span class="p">.</span> <span class="nx">Slow</span> <span class="nx">to</span> <span class="nx">update</span><span class="p">,</span> <span class="nx">slow</span> <span class="nx">to</span> <span class="nx">reload</span> <span class="err">—</span> <span class="nx">just</span> <span class="nx">a</span> <span class="nx">pain</span> <span class="nx">to</span> <span class="nx">use</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">The</span> <span class="nx">solution</span> <span class="nx">was</span> <span class="nx">to</span> <span class="nx">carefully</span> <span class="nx">measure</span> <span class="nx">the</span> <span class="nx">render</span> <span class="nx">time</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">subcomponents</span> <span class="nx">and</span>
</span><span class='line'><span class="nx">of</span> <span class="nx">the</span> <span class="nx">table</span> <span class="nx">as</span> <span class="nx">a</span> <span class="nx">whole</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">then</span> <span class="nx">begin</span> <span class="nx">experimenting</span><span class="p">.</span> <span class="nx">Over</span> <span class="nx">time</span><span class="p">,</span> <span class="nx">we</span> <span class="nx">managed</span> <span class="nx">to</span>
</span><span class='line'><span class="nx">cut</span> <span class="nx">the</span> <span class="nx">table</span> <span class="nx">render</span> <span class="nx">time</span> <span class="nx">to</span> <span class="nx">a</span> <span class="nx">third</span> <span class="nx">of</span> <span class="nx">what</span> <span class="nx">it</span> <span class="nx">was</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">In</span> <span class="k">this</span> <span class="nx">article</span> <span class="nx">I</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">take</span> <span class="nx">you</span> <span class="nx">on</span> <span class="nx">a</span> <span class="nx">quick</span> <span class="nx">tour</span> <span class="nx">of</span> <span class="nx">React</span><span class="err">’</span><span class="nx">s</span> <span class="nx">performance</span> <span class="nx">tools</span><span class="p">,</span> <span class="nx">and</span>
</span><span class='line'><span class="nx">how</span> <span class="nx">to</span> <span class="nx">eliminate</span> <span class="nx">wasted</span> <span class="nx">renders</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Let</span><span class="err">’</span><span class="nx">s</span> <span class="nx">get</span> <span class="nx">started</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">How</span> <span class="nx">To</span> <span class="nx">Benchmark</span> <span class="nx">A</span> <span class="nx">React</span> <span class="nx">Component</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">We</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">use</span> <span class="nx">a</span> <span class="nx">simple</span> <span class="nx">example</span><span class="o">:</span> <span class="nx">an</span> <span class="nx">app</span> <span class="nx">that</span> <span class="nx">renders</span> <span class="nx">a</span> <span class="nx">list</span> <span class="nx">of</span> <span class="mi">10</span><span class="p">,</span><span class="mi">000</span> <span class="nx">numbers</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Half</span> <span class="nx">the</span> <span class="nx">numbers</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">list</span> <span class="err">—</span> <span class="mi">1</span> <span class="nx">to</span> <span class="mi">5</span><span class="p">,</span><span class="mi">000</span><span class="o">-</span> <span class="nx">are</span> <span class="nx">simply</span> <span class="nx">generated</span> <span class="nx">by</span> <span class="nx">incrementing</span><span class="p">.</span>
</span><span class='line'><span class="nx">The</span> <span class="nx">other</span> <span class="nx">half</span><span class="p">,</span> <span class="k">in</span> <span class="nx">a</span> <span class="nx">separate</span> <span class="nx">array</span><span class="p">,</span> <span class="nx">are</span> <span class="nx">generated</span> <span class="nx">by</span> <span class="nx">incrementing</span> <span class="nx">and</span> <span class="nx">then</span>
</span><span class='line'><span class="nx">multiplying</span> <span class="nx">by</span> <span class="nx">a</span> <span class="nx">number</span> <span class="nx">stored</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">app</span><span class="err">’</span><span class="nx">s</span> <span class="nx">state</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">So</span> <span class="k">if</span> <span class="nx">the</span> <span class="o">&lt;</span><span class="nx">em</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">multiplier</span><span class="o">&lt;</span><span class="err">/em&gt; is 2, the second array would be 2, 4, 6 … etc</span>
</span><span class='line'><span class="nx">up</span> <span class="nx">to</span> <span class="mi">10</span><span class="p">,</span><span class="mi">000</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">To</span> <span class="nx">change</span> <span class="nx">the</span> <span class="nx">multiplier</span> <span class="nx">from</span> <span class="nx">the</span> <span class="k">default</span> <span class="nx">of</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">we</span> <span class="nx">click</span> <span class="nx">a</span> <span class="nx">button</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="o">%</span> <span class="nx">gist</span> <span class="nx">e282df91443f92dc24345c136fd5e225</span> <span class="o">%</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">When</span> <span class="nx">clicking</span> <span class="nx">the</span> <span class="nx">button</span><span class="p">,</span> <span class="nx">only</span> <span class="nx">the</span> <span class="nx">second</span> <span class="nx">array</span> <span class="nx">of</span> <span class="nx">ListItems</span> <span class="nx">should</span> <span class="nx">re</span><span class="o">-</span><span class="nx">render</span> <span class="err">—</span>
</span><span class='line'><span class="nx">only</span> <span class="nx">they</span> <span class="nx">are</span> <span class="nx">affected</span> <span class="nx">by</span> <span class="nx">the</span> <span class="nx">change</span><span class="p">.</span> <span class="nx">Yet</span> <span class="nx">we</span><span class="err">’</span><span class="nx">re</span> <span class="nx">experiencing</span> <span class="nx">slowness</span><span class="p">,</span> <span class="nx">so</span> <span class="nx">we</span>
</span><span class='line'><span class="nx">want</span> <span class="nx">to</span> <span class="nx">investigate</span> <span class="nx">whether</span> <span class="nx">everything</span> <span class="nx">is</span> <span class="nx">as</span> <span class="nx">it</span> <span class="nx">should</span> <span class="nx">be</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Measuring</span> <span class="nx">Update</span> <span class="nx">Time</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">We</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">start</span> <span class="nx">by</span> <span class="nx">installing</span> <span class="nx">React</span><span class="err">’</span><span class="nx">s</span> <span class="nx">performance</span> <span class="nx">tools</span><span class="p">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span>
</span><span class='line'><span class="nx">npm</span> <span class="nx">install</span> <span class="o">--</span><span class="nx">save</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">react</span><span class="o">-</span><span class="nx">addons</span><span class="o">-</span><span class="nx">perf</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;</span>
</span><span class='line'><span class="nx">And</span> <span class="nx">then</span> <span class="nx">we</span> <span class="nx">can</span> <span class="kr">import</span> <span class="nx">it</span> <span class="k">in</span> <span class="nx">our</span> <span class="nx">App</span><span class="p">.</span><span class="nx">js</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">javascript</span>
</span><span class='line'><span class="kr">import</span> <span class="nx">Perf</span> <span class="nx">from</span> <span class="s1">&#39;react-addons-perf&#39;</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;</span>
</span><span class='line'><span class="nx">There</span> <span class="nx">are</span> <span class="nx">four</span> <span class="nx">Perf</span> <span class="nx">functions</span> <span class="nx">that</span> <span class="nx">we</span> <span class="nx">care</span> <span class="nx">about</span><span class="o">:&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Perf</span><span class="p">.</span><span class="nx">start</span><span class="p">()</span><span class="o">:</span> <span class="nx">start</span> <span class="nx">measuring</span> <span class="nx">performance</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Perf</span><span class="p">.</span><span class="nx">stop</span><span class="p">()</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Perf</span><span class="p">.</span><span class="nx">printExclusive</span><span class="p">()</span><span class="o">:</span> <span class="nx">prints</span> <span class="nx">total</span> <span class="nx">rendering</span> <span class="nx">time</span> <span class="k">for</span> <span class="nx">components</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Perf</span><span class="p">.</span><span class="nx">printWasted</span><span class="p">()</span><span class="o">:</span> <span class="nx">prints</span> <span class="nx">wasted</span> <span class="nx">renders</span><span class="o">-</span> <span class="nx">we</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">get</span> <span class="nx">to</span> <span class="k">this</span> <span class="nx">shortly</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/ul&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">We</span> <span class="nx">want</span> <span class="nx">to</span> <span class="nx">start</span> <span class="nx">measuring</span> <span class="nx">render</span> <span class="nx">time</span> <span class="nx">before</span> <span class="nx">our</span> <span class="nx">component</span> <span class="nx">starts</span> <span class="nx">updating</span><span class="o">-</span>
</span><span class='line'><span class="nx">before</span> <span class="nx">we</span> <span class="nx">call</span> <span class="o">&lt;</span><span class="nx">em</span><span class="o">&gt;</span><span class="nx">setState</span><span class="p">()</span><span class="o">&lt;</span><span class="err">/em&gt;. Then we can stop the measurement and print the</span>
</span><span class='line'><span class="nx">results</span> <span class="nx">using</span> <span class="nx">the</span> <span class="nx">lifecycle</span> <span class="nx">method</span> <span class="o">&lt;</span><span class="nx">em</span><span class="o">&gt;</span><span class="nx">componentDidUpdate</span><span class="p">()</span><span class="o">&lt;</span><span class="err">/em&gt;.&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="o">%</span> <span class="nx">gist</span> <span class="mi">1</span><span class="nx">d699da138bd651f1993127cc8028b70</span> <span class="o">%</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Here</span><span class="err">’</span><span class="nx">s</span> <span class="nx">what</span> <span class="nx">our</span> <span class="nx">console</span> <span class="nx">will</span> <span class="nx">look</span> <span class="nx">like</span> <span class="nx">after</span> <span class="nx">clicking</span> <span class="nx">the</span> <span class="nx">button</span><span class="o">:&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;https://cdn-images-1.medium.com/max/800/1*SxJEEnK8C4sJTdIAnzvmVg.png&quot;</span> <span class="nx">alt</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="o">/&gt;&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Our</span> <span class="nx">App</span> <span class="nx">renders</span> <span class="nx">took</span> <span class="mf">94.75</span><span class="nx">ms</span> <span class="nx">to</span> <span class="nx">render</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">rendered</span> <span class="nx">only</span> <span class="nx">once</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Our</span> <span class="nx">ListItem</span> <span class="nx">component</span> <span class="nx">took</span> <span class="mf">53.84</span><span class="nx">ms</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">rendered</span> <span class="mi">10</span><span class="p">,</span><span class="mi">000</span> <span class="nx">times</span> <span class="p">(</span><span class="k">this</span> <span class="nx">is</span>
</span><span class='line'><span class="nx">including</span> <span class="nx">all</span> <span class="nx">instances</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">components</span><span class="p">,</span> <span class="nx">not</span> <span class="nx">individual</span> <span class="nx">render</span> <span class="nx">time</span><span class="p">).</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">In</span> <span class="nx">the</span> <span class="nx">second</span> <span class="nx">table</span><span class="p">,</span> <span class="nx">we</span> <span class="nx">can</span> <span class="nx">see</span> <span class="err">‘</span><span class="nx">wasted</span><span class="err">’</span> <span class="nx">time</span> <span class="err">—</span> <span class="nx">when</span> <span class="nx">the</span> <span class="nx">component</span> <span class="nx">re</span><span class="o">-</span><span class="nx">rendered</span>
</span><span class='line'><span class="nx">but</span> <span class="nx">nothing</span> <span class="nx">had</span> <span class="nx">actually</span> <span class="nx">changed</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">We</span> <span class="nx">have</span> <span class="mi">5</span><span class="p">,</span><span class="mi">000</span> <span class="nx">wasted</span> <span class="nx">ListItem</span> <span class="nx">renders</span><span class="p">.</span> <span class="nx">Not</span> <span class="nx">good</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">These</span> <span class="nx">renders</span> <span class="nx">are</span> <span class="err">‘</span><span class="nx">wasted</span><span class="err">’</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">sense</span> <span class="nx">that</span> <span class="nx">only</span> <span class="nx">the</span> <span class="nx">ListItems</span> <span class="nx">affected</span> <span class="nx">by</span> <span class="nx">the</span>
</span><span class='line'><span class="nx">multiplier</span> <span class="nx">will</span> <span class="nx">have</span> <span class="nx">their</span> <span class="nx">render</span> <span class="nx">actually</span> <span class="nx">changed</span> <span class="nx">when</span> <span class="nx">we</span> <span class="nx">click</span> <span class="nx">the</span> <span class="nx">button</span><span class="p">.</span>
</span><span class='line'><span class="nx">There</span><span class="err">’</span><span class="nx">s</span> <span class="nx">no</span> <span class="nx">point</span> <span class="k">in</span> <span class="nx">having</span> <span class="nx">them</span> <span class="nx">re</span><span class="o">-</span><span class="nx">render</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Fixing</span> <span class="nx">Wasted</span> <span class="nx">Renders</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Fortunately</span><span class="p">,</span> <span class="nx">React</span> <span class="nx">furnishes</span> <span class="nx">us</span> <span class="kd">with</span> <span class="nx">a</span> <span class="nx">handy</span> <span class="nx">lifecycle</span> <span class="nx">method</span> <span class="nx">called</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">em</span><span class="o">&gt;</span><span class="nx">shouldComponentUpdate</span><span class="p">()</span><span class="o">&lt;</span><span class="err">/em&gt; for these types of situations.&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">It</span> <span class="nx">gives</span> <span class="nx">us</span> <span class="nx">fine</span><span class="o">-</span><span class="nx">grained</span> <span class="nx">control</span> <span class="nx">of</span> <span class="nx">when</span> <span class="nx">our</span> <span class="nx">component</span> <span class="nx">will</span> <span class="nx">re</span><span class="o">-</span><span class="nx">render</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">We</span> <span class="nx">can</span> <span class="nx">check</span> <span class="k">for</span> <span class="nx">certain</span> <span class="nx">conditions</span><span class="p">,</span> <span class="nx">returning</span> <span class="nx">a</span> <span class="kr">boolean</span> <span class="nx">that</span> <span class="nx">React</span> <span class="nx">uses</span> <span class="nx">to</span>
</span><span class='line'><span class="nx">determine</span> <span class="nx">whether</span> <span class="nx">it</span> <span class="nx">will</span> <span class="nx">call</span> <span class="o">&lt;</span><span class="nx">em</span><span class="o">&gt;</span><span class="nx">render</span><span class="p">()</span><span class="o">&lt;</span><span class="err">/em&gt; on the component, or leave it as is.&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Here</span><span class="err">’</span><span class="nx">s</span> <span class="nx">what</span> <span class="nx">it</span> <span class="nx">would</span> <span class="nx">look</span> <span class="nx">like</span> <span class="k">for</span> <span class="nx">ListItem</span><span class="o">:&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="o">%</span> <span class="nx">gist</span> <span class="mi">35</span><span class="nx">e739f94d338031acea59c04de42fbd</span> <span class="o">%</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">If</span> <span class="nx">the</span> <span class="nx">text</span> <span class="nx">prop</span> <span class="nx">hasn</span><span class="err">’</span><span class="nx">t</span> <span class="nx">changed</span><span class="p">,</span> <span class="nx">there</span><span class="err">’</span><span class="nx">s</span> <span class="nx">no</span> <span class="nx">reason</span> <span class="nx">to</span> <span class="nx">change</span> <span class="nx">the</span> <span class="nx">component</span><span class="err">’</span><span class="nx">s</span>
</span><span class='line'><span class="nx">appearance</span> <span class="nx">via</span> <span class="nx">a</span> <span class="nx">re</span><span class="o">-</span><span class="nx">render</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">em</span><span class="o">&gt;</span><span class="nx">Note</span> <span class="nx">that</span> <span class="nx">we</span> <span class="nx">don</span><span class="err">’</span><span class="nx">t</span> <span class="nx">use</span> <span class="nx">the</span> <span class="nx">nextState</span> <span class="nx">argument</span> <span class="k">in</span> <span class="nx">shouldComponentUpdate</span><span class="p">()</span><span class="o">-</span> <span class="nx">I</span>
</span><span class='line'><span class="nx">left</span> <span class="nx">it</span> <span class="nx">there</span> <span class="k">for</span> <span class="nx">reference</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/em&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Now</span> <span class="kd">let</span><span class="err">’</span><span class="nx">s</span> <span class="nx">re</span><span class="o">-</span><span class="nx">run</span> <span class="nx">our</span> <span class="nx">Perf</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;https://cdn-images-1.medium.com/max/800/1*45uzx4SZL67IgaWNGmIM1A.png&quot;</span> <span class="nx">alt</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="o">/&gt;&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">We</span><span class="err">’</span><span class="nx">ve</span> <span class="nx">cut</span> <span class="nx">our</span> <span class="nx">total</span> <span class="nx">render</span> <span class="nx">time</span> <span class="nx">down</span> <span class="nx">by</span> <span class="mi">30</span><span class="nx">ms</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">eliminated</span> <span class="nx">all</span> <span class="nx">wasteful</span>
</span><span class='line'><span class="nx">renders</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Using</span> <span class="nx">Perf</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">Real</span> <span class="nx">World</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Most</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">components</span> <span class="nx">you</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">be</span> <span class="nx">benchmarking</span> <span class="nx">won</span><span class="err">’</span><span class="nx">t</span> <span class="nx">be</span> <span class="nx">nearly</span> <span class="k">this</span> <span class="nx">simple</span><span class="p">.</span> <span class="nx">But</span>
</span><span class='line'><span class="nx">the</span> <span class="nx">Perf</span> <span class="nx">tools</span> <span class="nx">are</span> <span class="nx">a</span> <span class="nx">valuable</span> <span class="nx">way</span> <span class="nx">to</span> <span class="nx">identify</span> <span class="nx">which</span> <span class="nx">components</span> <span class="nx">are</span> <span class="nx">problems</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Here</span><span class="err">’</span><span class="nx">s</span> <span class="nx">an</span> <span class="nx">example</span> <span class="nx">of</span> <span class="o">&lt;</span><span class="nx">em</span><span class="o">&gt;</span><span class="nx">Perf</span><span class="p">.</span><span class="nx">printWasted</span><span class="p">()</span><span class="o">&lt;</span><span class="err">/em&gt; from MuseFind’s administrative table</span>
</span><span class='line'><span class="nx">component</span><span class="o">:&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;https://cdn-images-1.medium.com/max/800/1*2Drc_MtkAZexMuuXhBb4Vw.png&quot;</span> <span class="nx">alt</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="o">/&gt;&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">These</span> <span class="nx">wasted</span> <span class="nx">times</span> <span class="nx">aren</span><span class="err">’</span><span class="nx">t</span> <span class="kr">long</span> <span class="nx">at</span> <span class="nx">all</span><span class="p">,</span> <span class="nx">thankfully</span> <span class="err">—</span> <span class="nx">but</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">see</span> <span class="nx">that</span> <span class="nx">of</span> <span class="nx">the</span>
</span><span class='line'><span class="nx">wasteful</span> <span class="nx">renders</span><span class="p">,</span> <span class="nx">the</span> <span class="nx">Header</span> <span class="nx">component</span> <span class="nx">is</span> <span class="nx">the</span> <span class="nx">main</span> <span class="nx">problem</span><span class="p">,</span> <span class="kd">with</span> <span class="nx">its</span>
</span><span class='line'><span class="nx">subcomponents</span> <span class="nx">Toolbar</span> <span class="nx">and</span> <span class="nx">PopoverMenu</span> <span class="nx">accounting</span> <span class="k">for</span> <span class="nx">almost</span> <span class="nx">all</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">wasted</span>
</span><span class='line'><span class="nx">render</span> <span class="nx">time</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Those</span> <span class="nx">two</span> <span class="nx">components</span> <span class="nx">are</span> <span class="nx">prime</span> <span class="nx">candidates</span> <span class="k">for</span> <span class="nx">adding</span> <span class="o">&lt;</span><span class="nx">em</span><span class="o">&gt;</span><span class="nx">shouldComponentUpdate</span><span class="p">()</span><span class="o">&lt;</span><span class="err">/em&gt;.&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Bonus</span><span class="o">:</span> <span class="nx">Benchmarking</span> <span class="nx">Initial</span> <span class="nx">Renders</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Sometimes</span> <span class="nx">you</span> <span class="nx">want</span> <span class="nx">to</span> <span class="nx">not</span> <span class="nx">just</span> <span class="nx">benchmark</span> <span class="nx">when</span> <span class="nx">the</span> <span class="nx">component</span> <span class="nx">updates</span><span class="p">,</span> <span class="nx">but</span> <span class="nx">also</span>
</span><span class='line'><span class="nx">how</span> <span class="kr">long</span> <span class="nx">it</span> <span class="nx">takes</span> <span class="nx">to</span> <span class="nx">render</span> <span class="nx">completely</span> <span class="nx">the</span> <span class="nx">first</span> <span class="nx">time</span> <span class="nx">around</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">In</span> <span class="kr">short</span><span class="p">,</span> <span class="nx">we</span> <span class="nx">want</span> <span class="nx">to</span> <span class="nx">measure</span> <span class="nx">the</span> <span class="nx">time</span> <span class="nx">between</span> <span class="o">&lt;</span><span class="nx">em</span><span class="o">&gt;</span><span class="nx">componentWillMount</span><span class="p">()</span> <span class="o">&lt;</span><span class="err">/em&gt;and</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">em</span><span class="o">&gt;</span><span class="nx">componentDidMount</span><span class="p">().</span><span class="o">&lt;</span><span class="err">/em&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">em</span><span class="o">&gt;</span><span class="nx">Perf</span><span class="p">.</span><span class="nx">start</span><span class="p">()</span><span class="o">&lt;</span><span class="err">/em&gt; can’t be placed in the &lt;em&gt;componentWillMount(), &lt;/em&gt;however, so we’ll</span>
</span><span class='line'><span class="nx">have</span> <span class="nx">to</span> <span class="nx">be</span> <span class="nx">a</span> <span class="nx">little</span> <span class="nx">more</span> <span class="nx">manual</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="o">%</span> <span class="nx">gist</span> <span class="mi">4</span><span class="nx">f4889a9c600ce31d6f48e2304d5f033</span> <span class="o">%</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">will</span> <span class="nx">give</span> <span class="nx">you</span> <span class="nx">a</span> <span class="nx">logged</span> <span class="nx">out</span> <span class="nx">time</span> <span class="k">in</span> <span class="nx">milliseconds</span><span class="o">-</span> <span class="nx">not</span> <span class="nx">as</span> <span class="nx">fancy</span> <span class="nx">as</span> <span class="nx">Perf</span><span class="p">,</span> <span class="nx">but</span>
</span><span class='line'><span class="nx">a</span> <span class="nx">useful</span> <span class="nx">metric</span> <span class="k">for</span> <span class="nx">how</span> <span class="kr">long</span> <span class="nx">it</span> <span class="nx">takes</span> <span class="nx">to</span> <span class="nx">boot</span> <span class="nx">up</span> <span class="nx">your</span> <span class="nx">app</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Final</span> <span class="nx">Notes</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">As</span> <span class="nx">the</span> <span class="nx">docs</span> <span class="nx">page</span> <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;https://facebook.github.io/react/docs/perf.html&quot;</span><span class="o">&gt;</span><span class="nx">proudly</span>
</span><span class='line'><span class="nx">proclaims</span><span class="o">&lt;</span><span class="err">/a&gt;, React is fast as it</span>
</span><span class='line'><span class="nx">is</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">However</span><span class="p">,</span> <span class="nx">that</span> <span class="nx">doesn</span><span class="err">’</span><span class="nx">t</span> <span class="nx">mean</span> <span class="nx">it</span><span class="err">’</span><span class="nx">s</span> <span class="nx">free</span> <span class="nx">from</span> <span class="nx">performance</span> <span class="nx">slowdowns</span> <span class="nx">caused</span> <span class="nx">by</span>
</span><span class='line'><span class="nx">unnecessary</span> <span class="nx">re</span><span class="o">-</span><span class="nx">renders</span> <span class="err">—</span> <span class="nx">especially</span> <span class="k">in</span> <span class="nx">complex</span> <span class="nx">apps</span> <span class="kd">with</span> <span class="nx">hundreds</span> <span class="nx">of</span> <span class="nx">children</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Using</span> <span class="nx">Perf</span> <span class="nx">on</span> <span class="nx">high</span><span class="o">-</span><span class="nx">level</span> <span class="nx">components</span> <span class="nx">can</span> <span class="nx">give</span> <span class="nx">you</span> <span class="nx">an</span> <span class="nx">idea</span> <span class="nx">of</span> <span class="nx">which</span> <span class="nx">children</span> <span class="nx">are</span>
</span><span class='line'><span class="nx">the</span> <span class="nx">problem</span><span class="p">,</span> <span class="nx">so</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">keep</span> <span class="nx">your</span> <span class="nx">app</span> <span class="nx">quick</span> <span class="nx">and</span> <span class="nx">snappy</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">I</span> <span class="nx">hope</span> <span class="k">this</span> <span class="nx">article</span> <span class="nx">has</span> <span class="nx">been</span> <span class="nx">useful</span> <span class="err">—</span> <span class="k">if</span> <span class="nx">it</span> <span class="nx">has</span><span class="p">,</span> <span class="kd">let</span> <span class="nx">me</span> <span class="nx">know</span> <span class="nx">by</span> <span class="nx">hitting</span> <span class="nx">the</span>
</span><span class='line'><span class="nx">green</span> <span class="nx">heart</span> <span class="nx">below</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">If</span> <span class="nx">you</span> <span class="nx">have</span> <span class="nx">any</span> <span class="nx">questions</span> <span class="nx">or</span> <span class="nx">feedback</span><span class="p">,</span> <span class="kd">let</span> <span class="nx">me</span> <span class="nx">know</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">comments</span> <span class="err">—</span> <span class="nx">thanks</span> <span class="k">for</span>
</span><span class='line'><span class="nx">reading</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;http://pwa-newsletter.com/&quot;</span><span class="o">&gt;</span><span class="nx">http</span><span class="o">:</span><span class="c1">//pwa-newsletter.com/&lt;/a&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Want</span> <span class="nx">to</span> <span class="nx">stay</span> <span class="nx">up</span> <span class="nx">to</span> <span class="nx">date</span><span class="o">/</span><span class="nx">learn</span> <span class="nx">best</span> <span class="nx">practices</span> <span class="k">for</span> <span class="nx">the</span> <span class="nx">future</span> <span class="nx">of</span> <span class="nx">web</span> <span class="nx">development</span><span class="o">?</span>
</span><span class='line'><span class="nx">Say</span> <span class="nx">hello</span> <span class="nx">to</span> <span class="nx">Progressive</span> <span class="nx">Web</span> <span class="nx">App</span> <span class="nx">Newsletter</span> <span class="err">—</span> <span class="nx">subscribe</span> <span class="nx">through</span> <span class="nx">the</span> <span class="nx">above</span> <span class="nx">link</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'><span class="p">]]</span><span class="o">&gt;&lt;</span><span class="err">/content&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="err">/entry&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">entry</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">title</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;html&quot;</span><span class="o">&gt;&lt;!</span><span class="p">[</span><span class="nx">CDATA</span><span class="p">[</span><span class="nx">Getting</span> <span class="nx">Started</span> <span class="nx">With</span> <span class="nx">React</span> <span class="nx">Native</span> <span class="k">in</span> <span class="mi">20</span> <span class="nx">Minutes</span><span class="p">]]</span><span class="o">&gt;&lt;</span><span class="err">/title&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">link</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;http://scottdomes.com/blog/getting-started-with-react-native-in-20-minutes/&quot;</span><span class="o">/&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">updated</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">11</span><span class="nx">T15</span><span class="o">:</span><span class="mi">58</span><span class="o">:</span><span class="mi">54</span><span class="o">-</span><span class="mi">07</span><span class="o">:</span><span class="mi">00</span><span class="o">&lt;</span><span class="err">/updated&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">id</span><span class="o">&gt;</span><span class="nx">http</span><span class="o">:</span><span class="c1">//scottdomes.com/blog/getting-started-with-react-native-in-20-minutes&lt;/id&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">content</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;html&quot;</span><span class="o">&gt;&lt;!</span><span class="p">[</span><span class="nx">CDATA</span><span class="p">[</span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">One</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">big</span> <span class="nx">selling</span> <span class="nx">points</span> <span class="nx">of</span> <span class="nx">React</span> <span class="nx">Native</span><span class="p">,</span> <span class="nx">aside</span> <span class="nx">from</span> <span class="nx">its</span> <span class="nx">technical</span>
</span><span class='line'><span class="nx">abilities</span><span class="p">,</span> <span class="nx">is</span> <span class="nx">its</span> <span class="nx">emphasis</span> <span class="nx">on</span> <span class="nx">good</span> <span class="nx">DX</span><span class="o">-</span> <span class="nx">Developer</span> <span class="nx">Experience</span><span class="p">.</span> <span class="nx">Not</span> <span class="nx">as</span> <span class="nx">often</span>
</span><span class='line'><span class="nx">discussed</span> <span class="nx">as</span> <span class="nx">UX</span><span class="p">,</span> <span class="nx">but</span> <span class="nx">when</span> <span class="nx">it</span> <span class="nx">comes</span> <span class="nx">down</span> <span class="nx">to</span> <span class="nx">it</span><span class="p">,</span> <span class="nx">a</span> <span class="nx">very</span> <span class="nx">important</span> <span class="nx">part</span> <span class="nx">of</span>
</span><span class='line'><span class="nx">delivering</span> <span class="nx">high</span> <span class="nx">quality</span> <span class="nx">apps</span> <span class="nx">quickly</span> <span class="nx">and</span> <span class="nx">efficiently</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">So</span> <span class="kd">let</span><span class="err">’</span><span class="nx">s</span> <span class="nx">put</span> <span class="nx">React</span> <span class="nx">Native</span><span class="err">’</span><span class="nx">s</span> <span class="nx">DX</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">test</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">see</span> <span class="k">if</span> <span class="nx">we</span> <span class="nx">can</span> <span class="nx">set</span> <span class="nx">up</span> <span class="nx">a</span> <span class="nx">simple</span>
</span><span class='line'><span class="nx">login</span> <span class="nx">app</span><span class="p">,</span> <span class="kd">with</span> <span class="nx">cookie</span> <span class="nx">management</span><span class="p">,</span> <span class="k">in</span> <span class="nx">under</span> <span class="mi">20</span> <span class="nx">minutes</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;https://cdn-images-1.medium.com/max/1600/1*5l_gnYCJYe1qAHuba5Aoew.jpeg&quot;</span> <span class="nx">alt</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="o">/&gt;&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&lt;!--</span><span class="nx">more</span><span class="o">--&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Our</span> <span class="nx">App</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Nearly</span> <span class="nx">every</span> <span class="nx">type</span> <span class="nx">of</span> <span class="nx">app</span> <span class="nx">you</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">want</span> <span class="nx">to</span> <span class="nx">build</span> <span class="nx">will</span> <span class="nx">involve</span> <span class="nx">a</span> <span class="nx">login</span> <span class="nx">screen</span> <span class="kd">with</span>
</span><span class='line'><span class="nx">cookies</span><span class="o">-</span> <span class="k">this</span> <span class="nx">app</span> <span class="nx">will</span> <span class="nx">therefore</span> <span class="nx">serve</span> <span class="nx">as</span> <span class="nx">a</span> <span class="nx">perfect</span> <span class="nx">foundation</span> <span class="k">for</span> <span class="nx">whatever</span> <span class="nx">you</span>
</span><span class='line'><span class="nx">want</span> <span class="nx">to</span> <span class="nx">create</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">We</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">also</span> <span class="nx">take</span> <span class="nx">a</span> <span class="nx">tour</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">basics</span> <span class="nx">of</span> <span class="nx">React</span> <span class="nx">Native</span><span class="p">,</span> <span class="nx">building</span> <span class="nx">basic</span> <span class="nx">views</span> <span class="nx">and</span>
</span><span class='line'><span class="nx">components</span> <span class="nx">and</span> <span class="nx">getting</span> <span class="nx">familiar</span> <span class="kd">with</span> <span class="nx">React</span> <span class="nx">Native</span><span class="err">’</span><span class="nx">s</span> <span class="nx">baked</span><span class="o">-</span><span class="k">in</span> <span class="nx">routing</span> <span class="nx">solution</span><span class="p">,</span>
</span><span class='line'><span class="nx">the</span> <span class="nx">Navigator</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">If</span> <span class="nx">you</span><span class="err">’</span><span class="nx">re</span> <span class="nx">familiar</span> <span class="kd">with</span> <span class="nx">React</span><span class="p">,</span> <span class="nx">you</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">have</span> <span class="nx">an</span> <span class="nx">easy</span> <span class="nx">time</span> <span class="nx">reading</span> <span class="nx">the</span> <span class="nx">code</span><span class="o">-</span> <span class="nx">but</span> <span class="nx">by</span>
</span><span class='line'><span class="nx">the</span> <span class="nx">end</span> <span class="nx">of</span> <span class="k">this</span> <span class="nx">tutorial</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">should</span> <span class="nx">be</span> <span class="nx">comfortable</span> <span class="nx">enough</span> <span class="kd">with</span> <span class="nx">React</span> <span class="nx">Native</span><span class="err">’</span><span class="nx">s</span>
</span><span class='line'><span class="nx">structure</span> <span class="nx">to</span> <span class="nx">move</span> <span class="nx">on</span> <span class="nx">to</span> <span class="nx">more</span> <span class="nx">advanced</span> <span class="nx">topics</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">The</span> <span class="nx">Boring</span> <span class="nx">Setup</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">You</span> <span class="nx">need</span> <span class="nx">Node</span><span class="p">,</span> <span class="nx">Watchman</span><span class="p">,</span> <span class="nx">the</span> <span class="nx">React</span> <span class="nx">CLI</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">Xcode</span><span class="p">.</span> <span class="nx">If</span> <span class="nx">you</span><span class="err">’</span><span class="nx">re</span> <span class="nx">not</span> <span class="nx">on</span> <span class="nx">a</span> <span class="nx">Mac</span><span class="p">,</span> <span class="nx">look</span>
</span><span class='line'><span class="nx">up</span> <span class="nx">alternative</span> <span class="nx">instructions</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;https://facebook.github.io/react-native/docs/getting-started.html#content&quot;</span><span class="o">&gt;</span><span class="nx">here</span><span class="o">&lt;</span><span class="err">/a&gt;.</span>
</span><span class='line'><span class="nx">Otherwise</span><span class="p">,</span> <span class="nx">just</span> <span class="nx">run</span> <span class="nx">the</span> <span class="nx">following</span><span class="p">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span>
</span><span class='line'><span class="nx">brew</span> <span class="nx">install</span> <span class="nx">node</span>
</span><span class='line'><span class="nx">brew</span> <span class="nx">install</span> <span class="nx">watchman</span>
</span><span class='line'><span class="nx">npm</span> <span class="nx">install</span> <span class="o">-</span><span class="nx">g</span> <span class="nx">react</span><span class="o">-</span><span class="kr">native</span><span class="o">-</span><span class="nx">cli</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;</span>
</span><span class='line'><span class="nx">And</span> <span class="nx">then</span> <span class="nx">download</span> <span class="nx">Xcode</span><span class="p">,</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">don</span><span class="err">’</span><span class="nx">t</span> <span class="nx">have</span> <span class="nx">it</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;https://itunes.apple.com/us/app/xcode/id497799835?mt=12&quot;</span><span class="o">&gt;</span><span class="nx">Mac</span> <span class="nx">App</span>
</span><span class='line'><span class="nx">Store</span><span class="o">&lt;</span><span class="err">/a&gt;. (If you have to</span>
</span><span class='line'><span class="nx">download</span> <span class="nx">it</span><span class="p">,</span> <span class="nx">that</span> <span class="nx">doesn</span><span class="err">’</span><span class="nx">t</span> <span class="nx">count</span> <span class="nx">towards</span> <span class="nx">the</span> <span class="mi">20</span> <span class="nx">minutes</span><span class="p">,</span> <span class="nx">okay</span><span class="o">?</span> <span class="nx">Only</span> <span class="nx">fair</span><span class="p">.)</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">The</span> <span class="nx">Fun</span> <span class="nx">Setup</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Cd</span> <span class="nx">into</span> <span class="nx">the</span> <span class="nx">directory</span> <span class="nx">you</span> <span class="nx">want</span> <span class="nx">to</span> <span class="nx">keep</span> <span class="nx">your</span> <span class="nx">app</span><span class="p">,</span> <span class="nx">and</span> <span class="kd">let</span><span class="err">’</span><span class="nx">s</span> <span class="nx">create</span> <span class="nx">it</span><span class="o">!</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span>
</span><span class='line'><span class="nx">react</span><span class="o">-</span><span class="kr">native</span> <span class="nx">init</span> <span class="nx">LoginApp</span>
</span><span class='line'><span class="nx">cd</span> <span class="nx">LoginApp</span>
</span><span class='line'><span class="nx">react</span><span class="o">-</span><span class="kr">native</span> <span class="nx">run</span><span class="o">-</span><span class="nx">ios</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;</span>
</span><span class='line'><span class="nx">Boom</span><span class="p">.</span> <span class="nx">You</span> <span class="nx">should</span> <span class="nx">have</span> <span class="nx">your</span> <span class="nx">iPhone</span> <span class="nx">emulator</span> <span class="nx">up</span> <span class="nx">and</span> <span class="nx">running</span><span class="p">,</span> <span class="kd">with</span> <span class="nx">your</span> <span class="nx">very</span> <span class="nx">boring</span>
</span><span class='line'><span class="nx">React</span> <span class="nx">Native</span> <span class="nx">app</span> <span class="nx">loaded</span> <span class="nx">up</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">On</span> <span class="nx">your</span> <span class="nx">emulator</span><span class="p">,</span> <span class="nx">hit</span> <span class="nx">Cmd</span> <span class="o">+</span> <span class="nx">D</span><span class="p">.</span> <span class="nx">This</span> <span class="nx">is</span> <span class="nx">your</span> <span class="nx">developer</span> <span class="nx">menu</span><span class="p">.</span> <span class="nx">It</span> <span class="nx">does</span> <span class="nx">lots</span> <span class="nx">of</span> <span class="nx">cool</span>
</span><span class='line'><span class="nx">stuff</span><span class="p">.</span> <span class="nx">For</span> <span class="nx">now</span><span class="p">,</span> <span class="nx">hit</span> <span class="err">‘</span><span class="nx">Debug</span> <span class="nx">JS</span> <span class="nx">Remotely</span><span class="err">’</span> <span class="p">(</span><span class="nx">which</span> <span class="nx">will</span> <span class="nx">launch</span> <span class="nx">a</span> <span class="nx">tab</span> <span class="nx">on</span> <span class="nx">your</span> <span class="nx">browser</span>
</span><span class='line'><span class="nx">where</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">see</span> <span class="nx">the</span> <span class="nx">console</span> <span class="nx">output</span> <span class="nx">of</span> <span class="nx">your</span> <span class="nx">app</span><span class="p">)</span> <span class="nx">and</span> <span class="err">‘</span><span class="nx">Enable</span> <span class="nx">Hot</span> <span class="nx">Reloading</span><span class="err">’</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Now</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">open</span> <span class="nx">up</span> <span class="nx">index</span><span class="p">.</span><span class="nx">ios</span><span class="p">.</span><span class="nx">js</span> <span class="k">in</span> <span class="nx">your</span> <span class="nx">IDE</span> <span class="nx">and</span> <span class="nx">play</span> <span class="nx">around</span> <span class="kd">with</span> <span class="nx">editing</span> <span class="nx">the</span>
</span><span class='line'><span class="nx">text</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">watch</span> <span class="nx">it</span> <span class="nx">change</span> <span class="nx">instantly</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">The</span> <span class="nx">Views</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">For</span> <span class="nx">our</span> <span class="nx">app</span> <span class="nx">we</span> <span class="nx">will</span> <span class="nx">have</span> <span class="nx">two</span> <span class="nx">different</span> <span class="err">“</span><span class="nx">pages</span><span class="err">”</span><span class="o">-</span> <span class="nx">the</span> <span class="nx">Login</span> <span class="nx">view</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">the</span>
</span><span class='line'><span class="nx">Dashboard</span><span class="p">.</span> <span class="nx">The</span> <span class="nx">idea</span> <span class="nx">is</span> <span class="nx">that</span> <span class="nx">you</span> <span class="nx">can</span><span class="err">’</span><span class="nx">t</span> <span class="nx">see</span> <span class="nx">the</span> <span class="nx">dashboard</span> <span class="nx">unless</span> <span class="nx">you</span> <span class="nx">log</span> <span class="k">in</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">To</span> <span class="nx">get</span> <span class="nx">between</span> <span class="nx">the</span> <span class="nx">two</span> <span class="nx">different</span> <span class="nx">views</span><span class="p">,</span> <span class="nx">we</span><span class="err">’</span><span class="nx">re</span> <span class="nx">going</span> <span class="nx">to</span> <span class="nx">use</span> <span class="nx">a</span> <span class="nx">React</span> <span class="nx">Native</span>
</span><span class='line'><span class="nx">component</span> <span class="nx">called</span> <span class="nx">NavigatorIOS</span><span class="p">.</span> <span class="nx">This</span> <span class="nx">will</span> <span class="nx">take</span> <span class="nx">care</span> <span class="nx">of</span> <span class="nx">our</span> <span class="nx">routing</span><span class="p">,</span> <span class="k">in</span> <span class="nx">effect</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Now</span><span class="err">’</span><span class="nx">s</span> <span class="nx">a</span> <span class="nx">good</span> <span class="nx">time</span> <span class="nx">to</span> <span class="nx">mention</span> <span class="nx">that</span> <span class="nx">React</span> <span class="nx">Native</span> <span class="nx">comes</span> <span class="kd">with</span> <span class="nx">a</span> <span class="nx">whole</span> <span class="nx">bunch</span> <span class="nx">of</span>
</span><span class='line'><span class="nx">awesome</span> <span class="nx">components</span><span class="p">.</span> <span class="nx">You</span> <span class="nx">can</span> <span class="nx">view</span> <span class="nx">the</span> <span class="nx">docs</span> <span class="k">for</span> <span class="nx">NavigatorIOS</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">all</span> <span class="nx">the</span> <span class="nx">rest</span><span class="p">,</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;https://facebook.github.io/react-native/docs/navigatorios.html&quot;</span><span class="o">&gt;</span><span class="nx">here</span><span class="o">&lt;</span><span class="err">/a&gt;. Once our</span>
</span><span class='line'><span class="mi">20</span> <span class="nx">minutes</span> <span class="nx">are</span> <span class="nx">up</span> <span class="nx">it</span><span class="err">’</span><span class="nx">s</span> <span class="nx">a</span> <span class="nx">good</span> <span class="nx">idea</span> <span class="nx">to</span> <span class="nx">check</span> <span class="nx">them</span> <span class="nx">out</span><span class="p">,</span> <span class="nx">so</span> <span class="nx">you</span> <span class="nx">know</span> <span class="nx">what</span> <span class="nx">you</span> <span class="nx">don</span><span class="err">’</span><span class="nx">t</span>
</span><span class='line'><span class="nx">have</span> <span class="nx">to</span> <span class="nx">build</span> <span class="nx">yourself</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Initial</span> <span class="nx">Route</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Let</span><span class="err">’</span><span class="nx">s</span> <span class="k">do</span> <span class="nx">some</span> <span class="nx">basic</span> <span class="nx">routing</span><span class="p">.</span> <span class="nx">In</span> <span class="nx">the</span> <span class="nx">root</span> <span class="nx">of</span> <span class="nx">your</span> <span class="nx">project</span><span class="p">,</span> <span class="nx">create</span> <span class="nx">a</span> <span class="nx">folder</span> <span class="nx">called</span>
</span><span class='line'><span class="nx">App</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">then</span> <span class="nx">another</span> <span class="nx">folder</span> <span class="nx">called</span> <span class="nx">Views</span> <span class="nx">within</span> <span class="nx">it</span><span class="p">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span>
</span><span class='line'><span class="nx">mkdir</span> <span class="nx">App</span>
</span><span class='line'><span class="nx">mkdir</span> <span class="nx">App</span><span class="o">/</span><span class="nx">Views</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;</span>
</span><span class='line'><span class="nx">Inside</span><span class="p">,</span> <span class="kd">let</span><span class="err">’</span><span class="nx">s</span> <span class="nx">make</span> <span class="nx">a</span> <span class="nx">file</span> <span class="nx">called</span> <span class="nx">LoginView</span><span class="p">.</span><span class="nx">js</span><span class="p">.</span> <span class="nx">Copy</span> <span class="nx">and</span> <span class="nx">paste</span> <span class="nx">the</span> <span class="nx">entirety</span> <span class="nx">of</span>
</span><span class='line'><span class="nx">index</span><span class="p">.</span><span class="nx">ios</span><span class="p">.</span><span class="nx">js</span> <span class="nx">into</span> <span class="nx">LoginView</span><span class="p">,</span> <span class="nx">then</span> <span class="nx">rename</span> <span class="nx">the</span> <span class="kr">class</span> <span class="nx">from</span> <span class="nx">LoginApp</span> <span class="nx">to</span> <span class="nx">LoginView</span><span class="p">,</span>
</span><span class='line'><span class="nx">and</span> <span class="k">delete</span> <span class="nx">the</span> <span class="nx">last</span> <span class="nx">line</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">So</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">javascript</span>
</span><span class='line'><span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">LoginApp</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;</span>
</span><span class='line'><span class="nx">becomes</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">javascript</span>
</span><span class='line'><span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">LoginView</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;</span>
</span><span class='line'><span class="nx">and</span> <span class="k">delete</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">javascript</span>
</span><span class='line'><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;LoginApp&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="nx">LoginApp</span><span class="p">);</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;</span>
</span><span class='line'><span class="nx">Save</span> <span class="nx">it</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">we</span> <span class="nx">have</span> <span class="nx">our</span> <span class="nx">first</span> <span class="nx">component</span><span class="p">,</span> <span class="nx">which</span> <span class="nx">will</span> <span class="nx">serve</span> <span class="nx">as</span> <span class="nx">one</span> <span class="nx">of</span> <span class="nx">our</span> <span class="nx">two</span>
</span><span class='line'><span class="nx">views</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Back</span> <span class="k">in</span> <span class="nx">index</span><span class="p">.</span><span class="nx">ios</span><span class="p">.</span><span class="nx">js</span><span class="p">,</span> <span class="kd">let</span><span class="err">’</span><span class="nx">s</span> <span class="k">delete</span> <span class="nx">everything</span> <span class="nx">within</span> <span class="nx">the</span> <span class="nx">render</span> <span class="kd">function</span><span class="p">,</span> <span class="nx">and</span>
</span><span class='line'><span class="nx">instead</span> <span class="nx">replace</span> <span class="nx">it</span> <span class="kd">with</span> <span class="nx">the</span> <span class="nx">NavigatorIOS</span> <span class="nx">component</span><span class="p">,</span> <span class="nx">which</span> <span class="nx">is</span> <span class="nx">going</span> <span class="nx">to</span> <span class="nx">wrap</span> <span class="nx">our</span>
</span><span class='line'><span class="nx">entire</span> <span class="nx">app</span> <span class="nx">and</span> <span class="nx">allow</span> <span class="nx">us</span> <span class="nx">to</span> <span class="nx">navigate</span> <span class="nx">between</span> <span class="nx">views</span><span class="p">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">javascript</span>
</span><span class='line'><span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">(</span>
</span><span class='line'>      <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="nx">NavigatorIOS</span>
</span><span class='line'>        <span class="nx">navigationBarHidden</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span>
</span><span class='line'>        <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">container</span><span class="p">}</span>
</span><span class='line'>        <span class="nx">tintColor</span><span class="o">=</span><span class="s1">&#39;#FF6600&#39;</span>
</span><span class='line'>        <span class="nx">initialRoute</span><span class="o">=</span><span class="p"></span><span class="o">/&amp;</span><span class="nx">gt</span><span class="p">;</span>
</span><span class='line'>    <span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;</span>
</span><span class='line'><span class="nx">And</span> <span class="nx">don</span><span class="err">’</span><span class="nx">t</span> <span class="nx">forget</span> <span class="nx">to</span> <span class="kr">import</span> <span class="nx">the</span> <span class="nx">component</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">javascript</span>
</span><span class='line'><span class="kr">import</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">AppRegistry</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">StyleSheet</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">Text</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">View</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">NavigatorIOS</span>  <span class="c1">// &amp;lt;-- Add me!</span>
</span><span class='line'><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;</span>
</span><span class='line'><span class="nx">As</span> <span class="nx">you</span> <span class="nx">may</span> <span class="nx">have</span> <span class="nx">noticed</span><span class="p">,</span> <span class="nx">right</span> <span class="nx">now</span> <span class="nx">we</span> <span class="nx">are</span> <span class="nx">supplying</span> <span class="nx">an</span> <span class="nx">empty</span> <span class="nx">object</span> <span class="nx">to</span> <span class="nx">the</span>
</span><span class='line'><span class="nx">initialRoute</span> <span class="nx">prop</span> <span class="nx">of</span> <span class="nx">NavigatorIOS</span><span class="p">.</span> <span class="nx">What</span> <span class="nx">we</span> <span class="nx">need</span> <span class="nx">to</span> <span class="k">do</span> <span class="nx">is</span> <span class="nx">instead</span> <span class="nx">provide</span> <span class="nx">an</span>
</span><span class='line'><span class="nx">object</span> <span class="kd">with</span> <span class="nx">the</span> <span class="nx">following</span> <span class="nx">structure</span><span class="o">:</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">javascript</span>
</span><span class='line'><span class="kd">let</span> <span class="nx">initialRoute</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Login&#39;</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">component</span><span class="o">:</span> <span class="nx">LoginView</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;</span>
</span><span class='line'><span class="nx">Copy</span> <span class="nx">and</span> <span class="nx">paste</span> <span class="k">this</span> <span class="nx">declaration</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">top</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">render</span> <span class="kd">function</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">then</span> <span class="nx">plug</span>
</span><span class='line'><span class="nx">it</span> <span class="nx">into</span> <span class="nx">the</span> <span class="nx">NavigatorIOS</span><span class="p">.</span> <span class="nx">You</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">also</span> <span class="nx">need</span> <span class="nx">to</span> <span class="kr">import</span> <span class="nx">the</span> <span class="nx">LoginView</span><span class="o">-</span> <span class="nx">here</span><span class="err">’</span><span class="nx">s</span> <span class="nx">our</span>
</span><span class='line'><span class="nx">full</span> <span class="o">&lt;</span><span class="nx">strong</span><span class="o">&gt;</span><span class="nx">index</span><span class="p">.</span><span class="nx">ios</span><span class="p">.</span><span class="nx">js</span><span class="o">&lt;</span><span class="err">/strong&gt; for reference:</span>
</span></code></pre></td></tr></table></div></figure> javascript
    // index.ios.js</p>

<pre><code>import React, { Component } from 'react';
import {
  AppRegistry,
  StyleSheet,
  Text,
  View,
  NavigatorIOS
} from 'react-native';

export default class LoginApp extends Component {
  render() {
    return (
      &lt;NavigatorIOS
        navigationBarHidden={true}
        style={styles.container}
        tintColor='#FF6600'
    );
  }
}


AppRegistry.registerComponent('LoginApp', () =&gt; LoginApp);
</code></pre>

<pre><code>The app is now wrapped by the NavigatorIOS component, which takes care of
rendering the applicable component for each route. We can build an infinite
number of views and use the navigator to move between them.

Our app should now look… exactly the same. So let’s add another route.

### Second Route

Create another file in App/Views called **DashboardView.js**. It should look
very familiar:
</code></pre>

<pre><code>// DashboardView.js

import React, { Component } from 'react';
import {
  StyleSheet,
  Text,
  View
} from 'react-native';

export default class DashboardView extends Component {
  render() {
    return (
      &lt;View style={styles.container}&gt;
        &lt;Text style={styles.welcome}&gt;
          I'm the second route!
        &lt;/Text&gt;
      &lt;/View&gt;
    );
  }
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: '#F5FCFF',
  },
  welcome: {
    fontSize: 20,
    textAlign: 'center',
    margin: 10,
  },
});
</code></pre>

<pre><code>Now we need some way to get from our initial LoginView route to the
DashboardView route. Here’s the thing about NavigatorIOS- every direct child is
automatically passed a *navigator* prop, which we can use to our advantage.

In **DashboardView.js:**
</code></pre>

<pre><code>export default class DashboardView extends Component {

render() {
    return (
      &lt;View style={styles.container}&gt;
        &lt;Text style={styles.welcome}&gt;
          I'm the second route!
        &lt;/Text&gt;
      &lt;/View&gt;
    );
  }
}
</code></pre>

<pre><code>And in **LoginView.js:**
</code></pre>

<pre><code>// LoginView.js

import React, { Component } from 'react';
import {
  AppRegistry,
  StyleSheet,
  Text,
  View,
} from 'react-native';

export default class LoginView extends Component {

render() {
    return (
      &lt;View style={styles.container}&gt;

      &lt;/View&gt;
    );
  }
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: '#F5FCFF',
  },
  welcome: {
    fontSize: 20,
    textAlign: 'center',
    margin: 10,
  },
  instructions: {
    textAlign: 'center',
    color: '#333333',
    marginBottom: 5,
  },
});
</code></pre>

<pre><code>We now have a working routing system, where the user can switch back and forth
between views. Not much utility yet, but that comes next.

### Logging In

As you may have noticed, React Native doesn’t use the standard HTML elements
(anchor tags, p’s, div’s, etc) you may be used to. Instead, they use built-in
components like Text and View, which end up functioning largely the same.

We’re going to build our login form using TextInputs (inputs) and
TouchableHighlights (button-like components, which convert a single child into a
clickable element). This should be pretty understandable:
</code></pre>

<pre><code>// LoginView.js

import React, { Component } from 'react';
import {
  AppRegistry,
  StyleSheet,
  Text,
  View,
} from 'react-native';
import DashboardView from './DashboardView'

export default class LoginView extends Component {
  handleGoToDashboard() {
    this.props.navigator.push({
      title: 'Dashboard',
      component: DashboardView
    })
  }

render() {
    return (
      &lt;View style={styles.container}&gt;
        &lt;Text style={styles.instructions} onPress={this.handleGoToDashboard.bind(this)}&gt;
          Go to Dashboard
        &lt;/Text&gt;
      &lt;/View&gt;
    );
  }
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: '#F5FCFF',
  },
  welcome: {
    fontSize: 20,
    textAlign: 'center',
    margin: 10,
  },
  instructions: {
    textAlign: 'center',
    color: '#333333',
    marginBottom: 5,
  },
});
</code></pre>

<pre><code>React Native styles are a bit different, but that’s beyond the scope of this
tutorial. You can read more
[here](https://facebook.github.io/react-native/docs/style.html).

To register changes to our TextInputs, we’re going to use local component state:
</code></pre>

<pre><code>// LoginView.js

...

export default class LoginView extends Component {

...

render() {
    return (
      &lt;View style={styles.container}&gt;
        &lt;TextInput 
          style={styles.input} 

/&gt;
        &lt;TextInput 
          style={styles.input} 


/&gt;
        &lt;TouchableHighlight 
          style={styles.button}&gt;
            &lt;Text&gt;Submit&lt;/Text&gt;
        &lt;/TouchableHighlight&gt;
      &lt;/View&gt;
    )
}

...
</code></pre>

<pre><code>onChangeText comes built-in to TextInput and operates much like onChange for an
input, except it provides the changed value as the first argument (instead of an
event).

In a real app, when the user submits the form, we’d send the username and
password to the server, check it out, get a token back, etc etc. We don’t need
to go through that trouble here. Here’s what we’re going to do to simulate the
logging in experience:

1.  When the user logs in, a token is created and stored in a cookie.
1.  Once that cookie is present, they are redirected to the dashboard.
1.  From the dashboard, they can logout, which deletes the cookie, and sends them
back to the login.
1.  If they reload the app without logging out, they’ll still have the cookie and be
able to go straight to the dashboard.

We’re running out of time, so let’s get going.

### Adding Cookies

To manage our React Native cookies, we’ll use react-native-cookies.
</code></pre>

<pre><code>npm install --save react-native-cookies
react-native link
</code></pre>

<pre><code>Note: You may have to rerun the *react-native run-ios *command after linking.

Linking simply adds the necessary package files into the native code of the
application.

Then, in LoginView, we import it:
</code></pre>

<pre><code>import CookieManager from 'react-native-cookies'
</code></pre>

<pre><code>And add a way to submit the form:
</code></pre>

<pre><code>&lt;TouchableHighlight 
  style={styles.button} 

&gt;
    &lt;Text&gt;Submit&lt;/Text&gt;
&lt;/TouchableHighlight&gt;
</code></pre>

<pre><code>And do the magic:
</code></pre>

<pre><code>handleSubmitLogin() {
    if (this.state.username &amp;&amp; this.state.password) {
      this.setLoginCookie()
    }
  }

setLoginCookie(data) {
    let date = new Date()
    date.setDate(date.getDate() + 7)
    CookieManager.set({
      name: 'login_cookie',
      value: this.state.username,
      domain: 'musefind.com',
      origin: 'musefind.com',
      path: '/',
      version: '1',
      expiration: date.toJSON()
    }, (err, res) =&gt; {
      console.log('Cookie set')
      console.log(res)
      console.log(err)
      this.handleGoToDashboard()    
     })
  }
</code></pre>

<pre><code>We check to make sure they filled out the form, then grab the date a week from
today, and set up our cookie (named after the user for this simple test) with
that date as the expiration.

Now, when you fill out the form and hit submit you should see in your debugger
console ‘Cookie set’, and be redirected to the dashboard.

Great. We set a cookie. Now what?

### Detecting the Cookie

When the user opens the app, we want to check if they have a cookie set. If they
do, we want to take them straight to the dashboard.

This is exactly the kind of thing that belongs in componentWillMount, right in
our **index.ios.js**. This function will be called when the app is about to
render.
</code></pre>

<pre><code>// index.ios.js

import LoginView from './App/Views/LoginView'

export default class LoginApp extends Component {


render() {
    return (
      &lt;NavigatorIOS
        ref='nav'
        navigationBarHidden={true}
        style={styles.container}
        tintColor='#FF6600'
        initialRoute={
}/&gt;
    );
  }
}
</code></pre>

<pre><code>We use state to store the initialRoute, which means the app will re-render when
it changes.

However, if you test this out- **it won’t work**, even if you have the cookie
set. That’s because NavigatorIOS is rendering with the initialRoute before we
finish checking for the cookie. After that, it no longer cares about the
initialRoute prop.

In other words, once NavigatorIOS is rendered once, it no longer responds to the
initialRoute prop- so changing it does not change the route.

So we need to hold off on rendering the navigator until we’ve decided what route
to pass it. We’ll add another piece of state to let the app know when to render
the navigator.
</code></pre>

<pre><code>// index.ios.js

export default class LoginApp extends Component {
  constructor(props) {
    super(props)
    this.state = {
      initialRoute: {
        title: 'Login',
        component: LoginView
      },
    }  
  }

componentWillMount() {
    CookieManager.getAll((err, res) =&gt; {
      if (res.login_cookie) {
        this.setState({
          initialRoute: {
            title: 'Dashboard',
            component: DashboardView
          },
        })
    })
  }

render() {
  }
}
</code></pre>

<pre><code>If the cookie hasn’t loaded, we just render an empty View (like an empty div).

Test it out, and you should be taken straight to the DashboardView. Wee!

### Logging Out

Logging out is real simple. In our **DashboardView.js:**
</code></pre>

<pre><code>// DashboardView.js

import React, { Component } from 'react';
import {
  AppRegistry,
  StyleSheet,
  Text,
  View,
} from 'react-native';
import LoginView from './LoginView'

export default class DashboardView extends Component {

render() {
    return (
      &lt;View style={styles.container}&gt;
      &lt;/View&gt;
    );
  }
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: '#F5FCFF',
  },
  welcome: {
    fontSize: 20,
    textAlign: 'center',
    margin: 10,
  },
});
</code></pre>

<p>```
We clear the cookies, and take them to the login. If you refresh the app with
Cmd + R after doing this, you’ll notice you are no longer taken to the
DashboardView- you’ve been kicked out! But if you login again and refresh, all
is gravy.</p>

<h3>Summing Up</h3>

<p>Our app isn’t much to look at, but in building it we covered a lot of the basic
concepts of React Native. Hopefully you have a good idea of how to go from here-
how to add more Views, built with RN components.</p>

<p>Once you’re comfortable with RN components, the routing, and the debugging,
React Native will feel very similar to building a web app- in many ways, it’s
easier and faster to develop with.</p>

<p>Found this tutorial helpful? Do me a favour and hit the green heart below- much
appreciated.</p>

<p><em>Thanks to </em><a href="https://medium.mybridge.co/@Mybridge">Mybridge</a><em> for including this
article as one of the top ten React.js articles of November. See the full list
</em><a href="https://medium.mybridge.co/react-js-top-10-articles-in-november-b3c378ae8daa#.itu5da1nx">here</a><em>.</em></p>

<ul>
<li><a href="https://engineering.musefind.com/tagged/react-native?source=post">React Native</a></li>
<li><a href="https://engineering.musefind.com/tagged/javascript?source=post">JavaScript</a></li>
<li><a href="https://engineering.musefind.com/tagged/mobile-app-development?source=post">Mobile App
Development</a></li>
<li><a href="https://engineering.musefind.com/tagged/ios-app-development?source=post">iOS App
Development</a></li>
<li><a href="https://engineering.musefind.com/tagged/react?source=post">React</a></li>
</ul>

]]></content>
  </entry>
  
</feed>
